running extract_messages
extracting messages from invenio_oaiserver/__init__.py (encoding="utf-8")
extracting messages from invenio_oaiserver/admin.py (encoding="utf-8")
extracting messages from invenio_oaiserver/config.py (encoding="utf-8")
extracting messages from invenio_oaiserver/errors.py (encoding="utf-8")
extracting messages from invenio_oaiserver/ext.py (encoding="utf-8")
extracting messages from invenio_oaiserver/fetchers.py (encoding="utf-8")
extracting messages from invenio_oaiserver/minters.py (encoding="utf-8")
extracting messages from invenio_oaiserver/models.py (encoding="utf-8")
extracting messages from invenio_oaiserver/percolator.py (encoding="utf-8")
extracting messages from invenio_oaiserver/provider.py (encoding="utf-8")
extracting messages from invenio_oaiserver/proxies.py (encoding="utf-8")
extracting messages from invenio_oaiserver/query.py (encoding="utf-8")
extracting messages from invenio_oaiserver/receivers.py (encoding="utf-8")
extracting messages from invenio_oaiserver/response.py (encoding="utf-8")
extracting messages from invenio_oaiserver/resumption_token.py (encoding="utf-8")
extracting messages from invenio_oaiserver/utils.py (encoding="utf-8")
extracting messages from invenio_oaiserver/verbs.py (encoding="utf-8")
extracting messages from invenio_oaiserver/alembic/5d25c1981985_add_system_created_field.py (encoding="utf-8")
extracting messages from invenio_oaiserver/alembic/759d47cbdba7_create_oaiserver_branch.py (encoding="utf-8")
extracting messages from invenio_oaiserver/alembic/e655021de0de_create_oiaserver_tables.py (encoding="utf-8")
extracting messages from invenio_oaiserver/schemas/__init__.py (encoding="utf-8")
extracting messages from invenio_oaiserver/search/__init__.py (encoding="utf-8")
extracting messages from invenio_oaiserver/search/component_templates/__init__.py (encoding="utf-8")
extracting messages from invenio_oaiserver/search/component_templates/os-v2/__init__.py (encoding="utf-8")
extracting messages from invenio_oaiserver/search/component_templates/v7/__init__.py (encoding="utf-8")
extracting messages from invenio_oaiserver/views/__init__.py (encoding="utf-8")
extracting messages from invenio_oaiserver/views/server.py (encoding="utf-8")
writing PO template file to /dev/null
 postgresql Pulling 
 opensearch Pulling 
 rabbitmq Pulling 
 rabbitmq Pulled 
 postgresql Pulled 
 opensearch Pulled 
 Network docker_services_cli_default  Creating
 Network docker_services_cli_default  Created
 Container docker_services_cli-rabbitmq-1  Creating
 Container docker_services_cli-opensearch-1  Creating
 Container docker_services_cli-postgresql-1  Creating
 Container docker_services_cli-postgresql-1  Created
 Container docker_services_cli-opensearch-1  Created
 Container docker_services_cli-rabbitmq-1  Created
 Container docker_services_cli-opensearch-1  Starting
 Container docker_services_cli-postgresql-1  Starting
 Container docker_services_cli-rabbitmq-1  Starting
 Container docker_services_cli-rabbitmq-1  Started
 Container docker_services_cli-postgresql-1  Started
 Container docker_services_cli-opensearch-1  Started
============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0
rootdir: /home/runner/work/invenio-testrig/invenio-testrig/package-repo
configfile: setup.cfg
testpaths: tests, invenio_oaiserver
plugins: github-actions-annotate-failures-0.3.0, pycodestyle-2.5.0, flask-1.3.0, black-ng-0.4.1, invenio-3.4.2, isort-4.0.0, cov-7.0.0, pydocstyle-2.4.0
collected 143 items

tests/conftest.py ...                                                    [  2%]
tests/data/__init__.py ...                                               [  4%]
tests/data/os-v1/__init__.py ...                                         [  6%]
tests/data/os-v2/__init__.py ...                                         [  8%]
tests/data/v7/__init__.py ...                                            [ 10%]
tests/helpers.py ...                                                     [ 12%]
tests/test_admin.py ...::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
                                                  [ 14%]
tests/test_app.py ....                                                   [ 17%]
tests/test_invenio_oaiserver.py ....::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/ext.py,line=169::Please specify the OAISERVER_ID_PREFIX configuration.default value is: oai:runnervmg1sw1:
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.s                                 [ 23%]
tests/test_percolator.py ...::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
                                          [ 27%]
tests/test_verbs.py ...::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_oaiserver/response.py,line=71::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.::warning file=/home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy/sql/schema.py,line=3624::datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
.                              [ 43%]
invenio_oaiserver/__init__.py ...                                        [ 45%]
invenio_oaiserver/admin.py ...                                           [ 47%]
invenio_oaiserver/alembic/5d25c1981985_add_system_created_field.py ...   [ 49%]
invenio_oaiserver/alembic/759d47cbdba7_create_oaiserver_branch.py ...    [ 51%]
invenio_oaiserver/alembic/e655021de0de_create_oiaserver_tables.py ...    [ 53%]
invenio_oaiserver/config.py ...                                          [ 55%]
invenio_oaiserver/errors.py ...                                          [ 58%]
invenio_oaiserver/ext.py ...                                             [ 60%]
invenio_oaiserver/fetchers.py ...                                        [ 62%]
invenio_oaiserver/minters.py ...                                         [ 64%]
invenio_oaiserver/models.py ...                                          [ 66%]
invenio_oaiserver/percolator.py ...                                      [ 68%]
invenio_oaiserver/provider.py ...                                        [ 70%]
invenio_oaiserver/proxies.py ...                                         [ 72%]
invenio_oaiserver/query.py ...                                           [ 74%]
invenio_oaiserver/receivers.py ...                                       [ 76%]
invenio_oaiserver/response.py ...                                        [ 79%]
invenio_oaiserver/resumption_token.py ...                                [ 81%]
invenio_oaiserver/schemas/__init__.py ...                                [ 83%]
invenio_oaiserver/search/__init__.py ...                                 [ 85%]
invenio_oaiserver/search/component_templates/__init__.py ...             [ 87%]
invenio_oaiserver/search/component_templates/os-v2/__init__.py ...       [ 89%]
invenio_oaiserver/search/component_templates/v7/__init__.py ...          [ 91%]
invenio_oaiserver/utils.py ...                                           [ 93%]
invenio_oaiserver/verbs.py ...                                           [ 95%]
invenio_oaiserver/views/__init__.py ...                                  [ 97%]
invenio_oaiserver/views/server.py ...                                    [100%]

=============================== warnings summary ===============================
.venv/lib/python3.12/site-packages/passlib/utils/__init__.py:854
    from crypt import crypt as _crypt

.venv/lib/python3.12/site-packages/jsonresolver/contrib/jsonschema.py:31
.venv/lib/python3.12/site-packages/jsonresolver/contrib/jsonschema.py:31
    from jsonschema import RefResolver as _RefResolver

.venv/lib/python3.12/site-packages/invenio_records/resolver.py:14
.venv/lib/python3.12/site-packages/invenio_records/resolver.py:14
    from jsonschema import RefResolutionError, RefResolver

.venv/lib/python3.12/site-packages/invenio_records/resolver.py:14
.venv/lib/python3.12/site-packages/invenio_records/resolver.py:14
    from jsonschema import RefResolutionError, RefResolver

.venv/lib/python3.12/site-packages/webargs/compat.py:8
    MARSHMALLOW_VERSION_INFO = tuple(LooseVersion(ma.__version__).version)  # type: tuple

.venv/lib/python3.12/site-packages/webargs/compat.py:8
    MARSHMALLOW_VERSION_INFO = tuple(LooseVersion(ma.__version__).version)  # type: tuple

.venv/lib/python3.12/site-packages/webargs/__init__.py:13
    __version_info__ = tuple(LooseVersion(__version__).version)

    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore

tests/test_invenio_oaiserver.py::test_init
    warnings.warn(

    e_responseDate.text = datetime_to_datestamp(datetime.utcnow())

  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/invenio_records/api.py:335: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

tests/test_percolator.py::test_search_pattern_change
    target.updated = datetime.utcnow()

tests/test_verbs.py::test_identify_earliest_date
    target.updated = datetime.utcnow()

tests/test_verbs.py::test_getrecord
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_verbs.py:263: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

tests/test_verbs.py::test_listmetadataformats_record
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_verbs.py:366: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

tests/test_verbs.py::test_listrecords
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_verbs.py:600: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_list_sets_long
tests/test_verbs.py::test_list_sets_long
    kwargs=schema.dump(schema_kwargs).data,

    expiration_date = datetime.utcnow() + timedelta(

tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_list_sets_long
tests/test_verbs.py::test_list_sets_long
    result["kwargs"] = _schema_from_verb(data["verb"]).load(schema_kwargs).data

tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_list_sets_long
tests/test_verbs.py::test_list_sets_long
    result.data.get("resumptionToken", {}).update(

tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_listrecords
tests/test_verbs.py::test_list_sets_long
tests/test_verbs.py::test_list_sets_long
    result.data.get("resumptionToken", {}).get("kwargs", {})

tests/test_verbs.py::test_listidentifiers
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_verbs.py:910: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

- generated xml file: /home/runner/work/invenio-testrig/invenio-testrig/artifacts/test-report-patched.xml -
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.12-final-0 _______________

Name                                                                 Stmts   Miss  Cover   Missing
invenio_oaiserver/__init__.py                                            4      0   100%
invenio_oaiserver/admin.py                                              19      3    84%   48-50
invenio_oaiserver/alembic/5d25c1981985_add_system_created_field.py      10      2    80%   22, 36
invenio_oaiserver/alembic/759d47cbdba7_create_oaiserver_branch.py       10      2    80%   23, 28
invenio_oaiserver/alembic/e655021de0de_create_oiaserver_tables.py       12      4    67%   23-35, 42-43
invenio_oaiserver/config.py                                             54      0   100%
invenio_oaiserver/errors.py                                              3      0   100%
invenio_oaiserver/ext.py                                                78      4    95%   76-77, 83-84
invenio_oaiserver/fetchers.py                                           17      2    88%   30, 44
invenio_oaiserver/minters.py                                            13      0   100%
invenio_oaiserver/models.py                                             24      1    96%   83
invenio_oaiserver/percolator.py                                         72      9    88%   69, 77-78, 91, 118-139, 146, 178
invenio_oaiserver/provider.py                                           16      0   100%
invenio_oaiserver/proxies.py                                             4      0   100%
invenio_oaiserver/query.py                                              61      1    98%   27
invenio_oaiserver/receivers.py                                           8      1    88%   28
invenio_oaiserver/response.py                                          176      4    98%   150-154, 247
invenio_oaiserver/resumption_token.py                                   35      0   100%
invenio_oaiserver/schemas/__init__.py                                    0      0   100%
invenio_oaiserver/search/__init__.py                                     0      0   100%
invenio_oaiserver/search/component_templates/__init__.py                 0      0   100%
invenio_oaiserver/search/component_templates/os-v2/__init__.py           0      0   100%
invenio_oaiserver/search/component_templates/v7/__init__.py              0      0   100%
invenio_oaiserver/utils.py                                              83      3    96%   55, 82, 185
invenio_oaiserver/verbs.py                                              71      5    93%   51-53, 60, 67
invenio_oaiserver/views/__init__.py                                      0      0   100%
invenio_oaiserver/views/server.py                                       45      7    84%   48-55, 77
TOTAL                                                                  815     48    94%
================ 142 passed, 1 skipped, 455 warnings in 35.04s =================
 Container docker_services_cli-postgresql-1  Stopping
 Container docker_services_cli-rabbitmq-1  Stopping
 Container docker_services_cli-opensearch-1  Stopping
 Container docker_services_cli-postgresql-1  Stopped
 Container docker_services_cli-postgresql-1  Removing
 Container docker_services_cli-postgresql-1  Removed
 Container docker_services_cli-opensearch-1  Stopped
 Container docker_services_cli-opensearch-1  Removing
 Container docker_services_cli-opensearch-1  Removed
 Container docker_services_cli-rabbitmq-1  Stopped
 Container docker_services_cli-rabbitmq-1  Removing
 Container docker_services_cli-rabbitmq-1  Removed
 Network docker_services_cli_default  Removing
 Network docker_services_cli_default  Removed
