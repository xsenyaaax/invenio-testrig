<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="10" skipped="0" tests="302" time="55.964" timestamp="2025-11-18T15:53:16.216770+00:00" hostname="runnervmg1sw1"><testcase classname="docs.conf" name="PYDOCSTYLE" time="0.012" /><testcase classname="docs.conf" name="ISORT" time="0.153" /><testcase classname="docs.conf" name="black" time="0.316" /><testcase classname="tests.conftest" name="PYDOCSTYLE" time="0.039" /><testcase classname="tests.conftest" name="ISORT" time="0.088" /><testcase classname="tests.conftest" name="black" time="0.251" /><testcase classname="tests.resources.test_resources_domains" name="ISORT" time="0.034" /><testcase classname="tests.resources.test_resources_domains" name="black" time="0.209" /><testcase classname="tests.resources.test_resources_domains" name="test_domains_access" time="3.046" /><testcase classname="tests.resources.test_resources_domains" name="test_domains_search" time="0.159" /><testcase classname="tests.resources.test_resources_domains" name="test_domains_read" time="0.081" /><testcase classname="tests.resources.test_resources_domains" name="test_domains_delete" time="0.109" /><testcase classname="tests.resources.test_resources_domains" name="test_domains_create" time="0.122" /><testcase classname="tests.resources.test_resources_domains" name="test_domains_create_failure[400-json0]" time="0.054" /><testcase classname="tests.resources.test_resources_domains" name="test_domains_create_failure[400-json1]" time="0.057" /><testcase classname="tests.resources.test_resources_domains" name="test_domains_create_failure[400-json2]" time="0.058" /><testcase classname="tests.resources.test_resources_domains" name="test_domains_create_failure[400-json3]" time="0.060" /><testcase classname="tests.resources.test_resources_domains" name="test_domains_update" time="0.342" /><testcase classname="tests.resources.test_resources_groups" name="ISORT" time="0.007" /><testcase classname="tests.resources.test_resources_groups" name="black" time="0.168" /><testcase classname="tests.resources.test_resources_groups" name="test_group_avatar" time="2.177" /><testcase classname="tests.resources.test_resources_users" name="ISORT" time="0.056" /><testcase classname="tests.resources.test_resources_users" name="black" time="0.235" /><testcase classname="tests.resources.test_resources_users" name="test_read_self_serialization" time="1.834" /><testcase classname="tests.resources.test_resources_users" name="test_read_anon_serialization" time="0.029" /><testcase classname="tests.resources.test_resources_users" name="test_read_logged_in_serialization[pub]" time="0.268" /><testcase classname="tests.resources.test_resources_users" name="test_read_logged_in_serialization[pubres]" time="0.274" /><testcase classname="tests.resources.test_resources_users" name="test_read_logged_in_serialization[res]" time="0.051" /><testcase classname="tests.resources.test_resources_users" name="test_user_avatar" time="0.088" /><testcase classname="tests.resources.test_resources_users" name="test_user_avatar_non_ascii" time="0.055" /><testcase classname="tests.resources.test_resources_users" name="test_create_user" time="0.104"><failure message="TypeError: argument of type 'NestedSessionWrapper' is not iterable">client = &lt;FlaskClient &lt;Flask 'invenio'&gt;&gt;
headers = {'accept': 'application/json', 'content-type': 'application/json'}
user_moderator = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b14517f50&gt;
db = &lt;SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio&gt;

    def test_create_user(client, headers, user_moderator, db):
        """Tests create user."""
        client = user_moderator.login(client)
&gt;       res = client.post(
            "/users",
            json={
                "username": "newuser",
                "email": "newuser@inveniosoftware.org",
            },
            headers=headers,
        )

tests/resources/test_resources_users.py:161: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.12/site-packages/werkzeug/test.py:1167: in post
    return self.open(*args, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/testing.py:235: in open
    response = super().open(
.venv/lib/python3.12/site-packages/werkzeug/test.py:1116: in open
    response_parts = self.run_wsgi_app(request.environ, buffered=buffered)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/werkzeug/test.py:988: in run_wsgi_app
    rv = run_wsgi_app(self.application, environ, buffered=buffered)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/werkzeug/test.py:1264: in run_wsgi_app
    app_rv = app(environ, start_response)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:1536: in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:1514: in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:1511: in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:919: in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:917: in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:902: in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask_resources/resources.py:65: in view
    return view_meth()
           ^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask_resources/content_negotiation.py:116: in inner_content_negotiation
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask_resources/parsers/decorators.py:51: in inner
    return f(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask_resources/parsers/decorators.py:90: in inner
    return f(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask_resources/responses.py:39: in inner
    res = f(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^
invenio_users_resources/resources/users/resource.py:188: in create
    item = self.service.create(
.venv/lib/python3.12/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_users_resources/services/users/service.py:70: in create
    uow.register(RecordCommitOp(user, indexer=self.indexer, index_refresh=True))
.venv/lib/python3.12/site-packages/invenio_db/uow.py:224: in register
    op.on_register(self)
.venv/lib/python3.12/site-packages/invenio_records_resources/services/uow.py:136: in on_register
    self._record.commit()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;UserAggregate: {'id': None, 'version_id': None, 'email': 'newuser@inveniosoftware.org', 'domain': 'inveniosoftware.or...firmed_at': None, 'blocked_at': None, 'verified_at': None, 'created': None, 'updated': None, 'current_login_at': None}&gt;

    def commit(self):
        """Update the aggregate data on commit."""
        # You can only commit if you have an underlying model object.
        if self.model._model_obj is None:
            raise ValueError(f"{self.__class__.__name__} not backed by a model.")
&gt;       if self.model._model_obj not in db.session:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       TypeError: argument of type 'NestedSessionWrapper' is not iterable

invenio_users_resources/records/api.py:109: TypeError</failure></testcase><testcase classname="tests.resources.test_resources_users" name="test_approve_user" time="0.069"><failure message="TypeError: argument of type 'NestedSessionWrapper' is not iterable">client = &lt;FlaskClient &lt;Flask 'invenio'&gt;&gt;
headers = {'accept': 'application/json', 'content-type': 'application/json'}
user_pub = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b14293800&gt;
user_moderator = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b14517f50&gt;
db = &lt;SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio&gt;

    def test_approve_user(client, headers, user_pub, user_moderator, db):
        """Tests approve user endpoint."""
        client = user_moderator.login(client)
&gt;       res = client.post(f"/users/{user_pub.id}/approve", headers=headers)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/resources/test_resources_users.py:180: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.12/site-packages/werkzeug/test.py:1167: in post
    return self.open(*args, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/testing.py:235: in open
    response = super().open(
.venv/lib/python3.12/site-packages/werkzeug/test.py:1116: in open
    response_parts = self.run_wsgi_app(request.environ, buffered=buffered)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/werkzeug/test.py:988: in run_wsgi_app
    rv = run_wsgi_app(self.application, environ, buffered=buffered)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/werkzeug/test.py:1264: in run_wsgi_app
    app_rv = app(environ, start_response)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:1536: in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:1514: in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:1511: in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:919: in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:917: in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:902: in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask_resources/resources.py:65: in view
    return view_meth()
           ^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask_resources/content_negotiation.py:116: in inner_content_negotiation
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask_resources/parsers/decorators.py:51: in inner
    return f(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_users_resources/resources/users/resource.py:131: in approve
    self.service.approve(
.venv/lib/python3.12/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_users_resources/services/users/service.py:236: in approve
    uow.register(RecordCommitOp(user, indexer=self.indexer, index_refresh=True))
.venv/lib/python3.12/site-packages/invenio_db/uow.py:224: in register
    op.on_register(self)
.venv/lib/python3.12/site-packages/invenio_records_resources/services/uow.py:136: in on_register
    self._record.commit()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;UserAggregate: {'id': 2, 'version_id': 2, 'email': 'pub@inveniosoftware.org', 'domain': 'inveniosoftware.org', 'usern...e.datetime(2025, 11, 18, 15, 53, 27, 496020), 'current_login_at': datetime.datetime(2025, 11, 18, 15, 53, 27, 494794)}&gt;

    def commit(self):
        """Update the aggregate data on commit."""
        # You can only commit if you have an underlying model object.
        if self.model._model_obj is None:
            raise ValueError(f"{self.__class__.__name__} not backed by a model.")
&gt;       if self.model._model_obj not in db.session:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       TypeError: argument of type 'NestedSessionWrapper' is not iterable

invenio_users_resources/records/api.py:109: TypeError</failure></testcase><testcase classname="tests.resources.test_resources_users" name="test_block_user" time="0.059"><failure message="assert 400 == 200&#10; +  where 400 = &lt;WrapperTestResponse streamed [400 BAD REQUEST]&gt;.status_code">client = &lt;FlaskClient &lt;Flask 'invenio'&gt;&gt;
headers = {'accept': 'application/json', 'content-type': 'application/json'}
user_pub = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b14293800&gt;
user_moderator = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b14517f50&gt;
db = &lt;SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio&gt;

    def test_block_user(client, headers, user_pub, user_moderator, db):
        """Tests block user endpoint."""
        client = user_moderator.login(client)
        res = client.post(f"/users/{user_pub.id}/block", headers=headers)
&gt;       assert res.status_code == 200
E       assert 400 == 200
E        +  where 400 = &lt;WrapperTestResponse streamed [400 BAD REQUEST]&gt;.status_code

tests/resources/test_resources_users.py:196: AssertionError</failure></testcase><testcase classname="tests.resources.test_resources_users" name="test_deactivate_user" time="0.065"><failure message="TypeError: argument of type 'NestedSessionWrapper' is not iterable">client = &lt;FlaskClient &lt;Flask 'invenio'&gt;&gt;
headers = {'accept': 'application/json', 'content-type': 'application/json'}
user_pub = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b14293800&gt;
user_moderator = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b14517f50&gt;
db = &lt;SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio&gt;

    def test_deactivate_user(client, headers, user_pub, user_moderator, db):
        """Tests deactivate user endpoint."""
        client = user_moderator.login(client)
&gt;       res = client.post(f"/users/{user_pub.id}/deactivate", headers=headers)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/resources/test_resources_users.py:213: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.12/site-packages/werkzeug/test.py:1167: in post
    return self.open(*args, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/testing.py:235: in open
    response = super().open(
.venv/lib/python3.12/site-packages/werkzeug/test.py:1116: in open
    response_parts = self.run_wsgi_app(request.environ, buffered=buffered)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/werkzeug/test.py:988: in run_wsgi_app
    rv = run_wsgi_app(self.application, environ, buffered=buffered)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/werkzeug/test.py:1264: in run_wsgi_app
    app_rv = app(environ, start_response)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:1536: in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:1514: in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:1511: in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:919: in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:917: in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask/app.py:902: in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask_resources/resources.py:65: in view
    return view_meth()
           ^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask_resources/content_negotiation.py:116: in inner_content_negotiation
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/flask_resources/parsers/decorators.py:51: in inner
    return f(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_users_resources/resources/users/resource.py:158: in deactivate
    self.service.deactivate(
.venv/lib/python3.12/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_users_resources/services/users/service.py:257: in deactivate
    uow.register(RecordCommitOp(user, indexer=self.indexer, index_refresh=True))
.venv/lib/python3.12/site-packages/invenio_db/uow.py:224: in register
    op.on_register(self)
.venv/lib/python3.12/site-packages/invenio_records_resources/services/uow.py:136: in on_register
    self._record.commit()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;UserAggregate: {'id': 2, 'version_id': 2, 'email': 'pub@inveniosoftware.org', 'domain': 'inveniosoftware.org', 'usern...e.datetime(2025, 11, 18, 15, 53, 27, 496020), 'current_login_at': datetime.datetime(2025, 11, 18, 15, 53, 27, 494794)}&gt;

    def commit(self):
        """Update the aggregate data on commit."""
        # You can only commit if you have an underlying model object.
        if self.model._model_obj is None:
            raise ValueError(f"{self.__class__.__name__} not backed by a model.")
&gt;       if self.model._model_obj not in db.session:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       TypeError: argument of type 'NestedSessionWrapper' is not iterable

invenio_users_resources/records/api.py:109: TypeError</failure></testcase><testcase classname="tests.resources.test_resources_users" name="test_management_permissions" time="0.054" /><testcase classname="tests.resources.test_resources_users" name="test_impersonate_user" time="0.515" /><testcase classname="tests.resources.test_resources_users" name="test_admin_links[admin_records_html-/administration/records?q=parent.access.owned_by.user:{id}&amp;f=allversions]" time="0.164" /><testcase classname="tests.resources.test_resources_users" name="test_admin_links[admin_drafts_html-/administration/drafts?q=parent.access.owned_by.user:{id}&amp;f=allversions]" time="0.156" /><testcase classname="tests.resources.test_resources_users" name="test_admin_links[admin_moderation_html-/administration/moderation?q=topic.user:{id}]" time="0.155" /><testcase classname="tests.resources.test_resources_users" name="test_admin_links_visibility[user_moderator-True]" time="0.159" /><testcase classname="tests.resources.test_resources_users" name="test_admin_links_visibility[pub-False]" time="0.211" /><testcase classname="tests.resources.test_resources_users" name="test_admin_links_visibility[res-False]" time="0.389" /><testcase classname="tests.services.test_generators" name="ISORT" time="0.021" /><testcase classname="tests.services.test_generators" name="black" time="0.168" /><testcase classname="tests.services.test_generators" name="test_group_not_managed_generator" time="1.982" /><testcase classname="tests.services.test_service_groups" name="ISORT" time="0.021" /><testcase classname="tests.services.test_service_groups" name="black" time="0.179" /><testcase classname="tests.services.test_service_groups" name="test_groups_sort" time="1.349" /><testcase classname="tests.services.test_service_groups" name="test_groups_no_facets" time="0.046" /><testcase classname="tests.services.test_service_groups" name="test_groups_fixed_pagination" time="0.043" /><testcase classname="tests.services.test_service_groups" name="test_groups_search_field[id:it-dep]" time="0.061" /><testcase classname="tests.services.test_service_groups" name="test_groups_search_field[name:IT Department]" time="0.044" /><testcase classname="tests.services.test_service_groups" name="test_groups_search_field[+name:it]" time="0.041" /><testcase classname="tests.services.test_service_groups" name="test_groups_search_field[IT]" time="0.043" /><testcase classname="tests.services.test_service_groups" name="test_groups_search" time="0.527" /><testcase classname="tests.services.test_service_groups" name="test_groups_read" time="0.273" /><testcase classname="tests.services.test_service_tasks_domains" name="ISORT" time="0.018" /><testcase classname="tests.services.test_service_tasks_domains" name="black" time="0.173" /><testcase classname="tests.services.test_service_tasks_domains" name="test_import_domain_blocklist" time="1.368" /><testcase classname="tests.services.test_service_tasks_domains" name="test_import_domain_blocklist_download_error" time="0.179" /><testcase classname="tests.services.users.test_service_users" name="ISORT" time="0.077" /><testcase classname="tests.services.users.test_service_users" name="black" time="0.240" /><testcase classname="tests.services.users.test_service_users" name="test_search_restricted" time="1.975" /><testcase classname="tests.services.users.test_service_users" name="test_search_public_users" time="0.377" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[affiliations:CERN]" time="0.384" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[affiliation:CERN]" time="0.366" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[name:Jose affiliation:CERN]" time="0.370" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[+name:Jose +affiliation:CERN]" time="0.175" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[CERN]" time="0.375" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[Tim]" time="0.158" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[Tim CERN]" time="0.361" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[Jose]" time="0.155" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[Jos]" time="0.161" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[Jose CERN]" time="0.362" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[email:pub@inveniosoftware.org]" time="0.158" /><testcase classname="tests.services.users.test_service_users" name="test_admin_search_field[username:pub]" time="0.264" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field_not_searchable[res@inveniosoftware.org]" time="0.123" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field_not_searchable[pubres@inveniosoftware.org]" time="0.089" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field_not_searchable[Plazi0]" time="0.047" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field_not_searchable[inactive]" time="0.055" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field_not_searchable[unconfirmed]" time="0.058" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field_not_searchable[restricted]" time="0.053" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field_not_searchable[Plazi1]" time="0.046" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field_not_searchable[test]" time="0.038" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field[CERN]" time="0.414" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field[Jose CERN]" time="0.389" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field[Jose AND CERN]" time="0.391" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field[Tim]" time="0.271" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field[Tim CERN]" time="0.394" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field[Jose]" time="0.183" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field[Jos]" time="0.179" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field[pub@inveniosoftware.org]" time="0.224" /><testcase classname="tests.services.users.test_service_users" name="test_user_search_field[pub]" time="0.396" /><testcase classname="tests.services.users.test_service_users" name="test_read_with_anon" time="0.081" /><testcase classname="tests.services.users.test_service_users" name="test_read_with_logged_in" time="0.533" /><testcase classname="tests.services.users.test_service_users" name="test_read_self[pub]" time="0.180" /><testcase classname="tests.services.users.test_service_users" name="test_read_self[pubres]" time="0.189" /><testcase classname="tests.services.users.test_service_users" name="test_read_self[res]" time="0.185" /><testcase classname="tests.services.users.test_service_users" name="test_search_permissions" time="0.122" /><testcase classname="tests.services.users.test_service_users" name="test_create_permission_denied" time="0.557" /><testcase classname="tests.services.users.test_service_users" name="test_create_user" time="0.642"><failure message="TypeError: argument of type 'NestedSessionWrapper' is not iterable">app = &lt;Flask 'invenio'&gt;
db = &lt;SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio&gt;
user_service = &lt;invenio_users_resources.services.users.service.UsersService object at 0x7f7b10502960&gt;
user_moderator = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b1044bda0&gt;
user_res = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b10b4a270&gt;
clear_cache = None
search_clear = &lt;OpenSearch([{'host': 'localhost', 'port': 9200}])&gt;

    def test_create_user(
        app, db, user_service, user_moderator, user_res, clear_cache, search_clear
    ):
        """Test user create."""
        data = {
            "username": "newuser",
            "email": "newuser@inveniosoftware.org",
        }
&gt;       res = user_service.create(user_moderator.identity, data).to_dict()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/services/users/test_service_users.py:229: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.12/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_users_resources/services/users/service.py:70: in create
    uow.register(RecordCommitOp(user, indexer=self.indexer, index_refresh=True))
.venv/lib/python3.12/site-packages/invenio_db/uow.py:224: in register
    op.on_register(self)
.venv/lib/python3.12/site-packages/invenio_records_resources/services/uow.py:136: in on_register
    self._record.commit()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;UserAggregate: {'id': None, 'version_id': None, 'email': 'newuser@inveniosoftware.org', 'domain': 'inveniosoftware.or...firmed_at': None, 'blocked_at': None, 'verified_at': None, 'created': None, 'updated': None, 'current_login_at': None}&gt;

    def commit(self):
        """Update the aggregate data on commit."""
        # You can only commit if you have an underlying model object.
        if self.model._model_obj is None:
            raise ValueError(f"{self.__class__.__name__} not backed by a model.")
&gt;       if self.model._model_obj not in db.session:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       TypeError: argument of type 'NestedSessionWrapper' is not iterable

invenio_users_resources/records/api.py:109: TypeError</failure></testcase><testcase classname="tests.services.users.test_service_users" name="test_create_user_errors" time="0.604"><failure message="TypeError: argument of type 'NestedSessionWrapper' is not iterable">app = &lt;Flask 'invenio'&gt;
db = &lt;SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio&gt;
user_service = &lt;invenio_users_resources.services.users.service.UsersService object at 0x7f7b10502960&gt;
user_moderator = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b1044bda0&gt;
user_res = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b10b4a270&gt;
clear_cache = None
search_clear = &lt;OpenSearch([{'host': 'localhost', 'port': 9200}])&gt;

    def test_create_user_errors(
        app, db, user_service, user_moderator, user_res, clear_cache, search_clear
    ):
        """Test user create errors."""
        # Invalid values
        with pytest.raises(ValidationError) as exc_info:
            user_service.create(
                user_moderator.identity,
                {
                    "username": "a",
                    "email": "invalid",
                },
            )
        assert exc_info.value.messages == {
            "email": ["Not a valid email address."],
            "username": [
                "Username must start with a letter, be at least three characters long "
                "and only contain alphanumeric characters, dashes and underscores.",
            ],
        }
    
        # Invalid values for username not starting with alpha
        with pytest.raises(ValidationError) as exc_info:
            user_service.create(
                user_moderator.identity,
                {
                    "username": "_aaa",
                    "email": "valid@up.com",
                },
            )
        assert exc_info.value.messages == {
            "username": [
                "Username must start with a letter, be at least three "
                "characters long and only contain alphanumeric characters, dashes and "
                "underscores."
            ],
        }
        # Invalid values for username with non alpha, dash or underscore
        with pytest.raises(ValidationError) as exc_info:
            user_service.create(
                user_moderator.identity,
                {
                    "username": "aaaa_1-:",
                    "email": "valid@up.com",
                },
            )
        assert exc_info.value.messages == {
            "username": [
                "Username must start with a letter, be at least three "
                "characters long and only contain alphanumeric characters, dashes and "
                "underscores."
            ],
        }
        data = {
            "username": "newuser",
            "email": "newuser@inveniosoftware.org",
        }
&gt;       user_service.create(user_moderator.identity, data).to_dict()
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/services/users/test_service_users.py:303: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.12/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_users_resources/services/users/service.py:70: in create
    uow.register(RecordCommitOp(user, indexer=self.indexer, index_refresh=True))
.venv/lib/python3.12/site-packages/invenio_db/uow.py:224: in register
    op.on_register(self)
.venv/lib/python3.12/site-packages/invenio_records_resources/services/uow.py:136: in on_register
    self._record.commit()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;UserAggregate: {'id': None, 'version_id': None, 'email': 'newuser@inveniosoftware.org', 'domain': 'inveniosoftware.or...firmed_at': None, 'blocked_at': None, 'verified_at': None, 'created': None, 'updated': None, 'current_login_at': None}&gt;

    def commit(self):
        """Update the aggregate data on commit."""
        # You can only commit if you have an underlying model object.
        if self.model._model_obj is None:
            raise ValueError(f"{self.__class__.__name__} not backed by a model.")
&gt;       if self.model._model_obj not in db.session:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       TypeError: argument of type 'NestedSessionWrapper' is not iterable

invenio_users_resources/records/api.py:109: TypeError</failure></testcase><testcase classname="tests.services.users.test_service_users" name="test_block" time="0.515"><failure message="TypeError: argument of type 'NestedSessionWrapper' is not iterable">app = &lt;Flask 'invenio'&gt;
db = &lt;SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio&gt;
user_service = &lt;invenio_users_resources.services.users.service.UsersService object at 0x7f7b10502960&gt;
user_moderator = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b1044bda0&gt;
user_res = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b10b4a270&gt;
clear_cache = None
search_clear = &lt;OpenSearch([{'host': 'localhost', 'port': 9200}])&gt;

    def test_block(
        app, db, user_service, user_moderator, user_res, clear_cache, search_clear
    ):
        """Test user block."""
    
        with pytest.raises(PermissionDeniedError):
            user_service.block(user_res.identity, user_res.id)
    
&gt;       blocked = user_service.block(user_moderator.identity, user_res.id)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/services/users/test_service_users.py:322: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.12/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_users_resources/services/users/service.py:189: in block
    uow.register(RecordCommitOp(user, indexer=self.indexer, index_refresh=True))
.venv/lib/python3.12/site-packages/invenio_db/uow.py:224: in register
    op.on_register(self)
.venv/lib/python3.12/site-packages/invenio_records_resources/services/uow.py:136: in on_register
    self._record.commit()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;UserAggregate: {'id': 3, 'version_id': 1, 'email': 'res@inveniosoftware.org', 'domain': 'inveniosoftware.org', 'usern...11, 18, 15, 53, 39, 532960), 'updated': datetime.datetime(2025, 11, 18, 15, 53, 39, 532963), 'current_login_at': None}&gt;

    def commit(self):
        """Update the aggregate data on commit."""
        # You can only commit if you have an underlying model object.
        if self.model._model_obj is None:
            raise ValueError(f"{self.__class__.__name__} not backed by a model.")
&gt;       if self.model._model_obj not in db.session:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       TypeError: argument of type 'NestedSessionWrapper' is not iterable

invenio_users_resources/records/api.py:109: TypeError</failure></testcase><testcase classname="tests.services.users.test_service_users" name="test_approve" time="0.499"><failure message="TypeError: argument of type 'NestedSessionWrapper' is not iterable">app = &lt;Flask 'invenio'&gt;
db = &lt;SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio&gt;
user_service = &lt;invenio_users_resources.services.users.service.UsersService object at 0x7f7b10502960&gt;
user_res = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b10b4a270&gt;
user_moderator = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b1044bda0&gt;
clear_cache = None
search_clear = &lt;OpenSearch([{'host': 'localhost', 'port': 9200}])&gt;

    def test_approve(
        app, db, user_service, user_res, user_moderator, clear_cache, search_clear
    ):
        """Test approval of an user."""
        with pytest.raises(PermissionDeniedError):
            user_service.block(user_res.identity, user_res.id)
    
&gt;       approved = user_service.approve(user_moderator.identity, user_res.id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/services/users/test_service_users.py:353: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.12/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_users_resources/services/users/service.py:236: in approve
    uow.register(RecordCommitOp(user, indexer=self.indexer, index_refresh=True))
.venv/lib/python3.12/site-packages/invenio_db/uow.py:224: in register
    op.on_register(self)
.venv/lib/python3.12/site-packages/invenio_records_resources/services/uow.py:136: in on_register
    self._record.commit()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;UserAggregate: {'id': 3, 'version_id': 1, 'email': 'res@inveniosoftware.org', 'domain': 'inveniosoftware.org', 'usern...11, 18, 15, 53, 39, 532960), 'updated': datetime.datetime(2025, 11, 18, 15, 53, 39, 532963), 'current_login_at': None}&gt;

    def commit(self):
        """Update the aggregate data on commit."""
        # You can only commit if you have an underlying model object.
        if self.model._model_obj is None:
            raise ValueError(f"{self.__class__.__name__} not backed by a model.")
&gt;       if self.model._model_obj not in db.session:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       TypeError: argument of type 'NestedSessionWrapper' is not iterable

invenio_users_resources/records/api.py:109: TypeError</failure></testcase><testcase classname="tests.services.users.test_service_users" name="test_deactivate" time="0.048"><failure message="TypeError: argument of type 'NestedSessionWrapper' is not iterable">app = &lt;Flask 'invenio'&gt;
db = &lt;SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio&gt;
user_service = &lt;invenio_users_resources.services.users.service.UsersService object at 0x7f7b10502960&gt;
user_res = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b10b4a270&gt;
user_moderator = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b1044bda0&gt;
clear_cache = None

    def test_deactivate(app, db, user_service, user_res, user_moderator, clear_cache):
        """Test deactivation of an user."""
        with pytest.raises(PermissionDeniedError):
            user_service.block(user_res.identity, user_res.id)
    
&gt;       deactivated = user_service.deactivate(user_moderator.identity, user_res.id)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/services/users/test_service_users.py:372: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.12/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_users_resources/services/users/service.py:257: in deactivate
    uow.register(RecordCommitOp(user, indexer=self.indexer, index_refresh=True))
.venv/lib/python3.12/site-packages/invenio_db/uow.py:224: in register
    op.on_register(self)
.venv/lib/python3.12/site-packages/invenio_records_resources/services/uow.py:136: in on_register
    self._record.commit()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;UserAggregate: {'id': 3, 'version_id': 1, 'email': 'res@inveniosoftware.org', 'domain': 'inveniosoftware.org', 'usern...11, 18, 15, 53, 39, 532960), 'updated': datetime.datetime(2025, 11, 18, 15, 53, 39, 532963), 'current_login_at': None}&gt;

    def commit(self):
        """Update the aggregate data on commit."""
        # You can only commit if you have an underlying model object.
        if self.model._model_obj is None:
            raise ValueError(f"{self.__class__.__name__} not backed by a model.")
&gt;       if self.model._model_obj not in db.session:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       TypeError: argument of type 'NestedSessionWrapper' is not iterable

invenio_users_resources/records/api.py:109: TypeError</failure></testcase><testcase classname="tests.services.users.test_service_users" name="test_non_existent_user_management" time="0.013" /><testcase classname="tests.services.users.test_service_users" name="test_restore" time="0.188"><failure message="TypeError: argument of type 'NestedSessionWrapper' is not iterable">app = &lt;Flask 'invenio'&gt;
db = &lt;SQLAlchemy postgresql+psycopg2://invenio:***@localhost:5432/invenio&gt;
user_service = &lt;invenio_users_resources.services.users.service.UsersService object at 0x7f7b10502960&gt;
user_res = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b10b4a270&gt;
user_moderator = &lt;pytest_invenio.user.UserFixtureBase object at 0x7f7b1044bda0&gt;
clear_cache = None

    def test_restore(app, db, user_service, user_res, user_moderator, clear_cache):
        """Test restore of a user."""
&gt;       blocked = user_service.block(user_moderator.identity, user_res.id)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/services/users/test_service_users.py:402: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 
.venv/lib/python3.12/site-packages/invenio_db/uow.py:251: in inner
    res = f(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^
invenio_users_resources/services/users/service.py:189: in block
    uow.register(RecordCommitOp(user, indexer=self.indexer, index_refresh=True))
.venv/lib/python3.12/site-packages/invenio_db/uow.py:224: in register
    op.on_register(self)
.venv/lib/python3.12/site-packages/invenio_records_resources/services/uow.py:136: in on_register
    self._record.commit()
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = &lt;UserAggregate: {'id': 3, 'version_id': 1, 'email': 'res@inveniosoftware.org', 'domain': 'inveniosoftware.org', 'usern...11, 18, 15, 53, 39, 532960), 'updated': datetime.datetime(2025, 11, 18, 15, 53, 39, 532963), 'current_login_at': None}&gt;

    def commit(self):
        """Update the aggregate data on commit."""
        # You can only commit if you have an underlying model object.
        if self.model._model_obj is None:
            raise ValueError(f"{self.__class__.__name__} not backed by a model.")
&gt;       if self.model._model_obj not in db.session:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E       TypeError: argument of type 'NestedSessionWrapper' is not iterable

invenio_users_resources/records/api.py:109: TypeError</failure></testcase><testcase classname="tests.services.users.test_user_moderation" name="ISORT" time="0.039" /><testcase classname="tests.services.users.test_user_moderation" name="black" time="0.185" /><testcase classname="tests.services.users.test_user_moderation" name="test_moderation_callbacks_success" time="1.640" /><testcase classname="tests.services.users.test_user_moderation" name="test_moderation_callbacks_failure" time="0.237" /><testcase classname="tests.services.users.test_user_moderation" name="test_moderation_callbacks_lock" time="0.106" /><testcase classname="tests.services.users.test_user_moderation" name="test_moderation_callbacks_lock_renewal[1-10-True]" time="1.131" /><testcase classname="tests.services.users.test_user_moderation" name="test_moderation_callbacks_lock_renewal[2-2-False]" time="2.263" /><testcase classname="tests.test_invenio_users_resources" name="ISORT" time="0.012" /><testcase classname="tests.test_invenio_users_resources" name="black" time="0.164" /><testcase classname="tests.test_invenio_users_resources" name="test_version" time="0.001" /><testcase classname="tests.test_invenio_users_resources" name="test_init" time="0.061" /><testcase classname="tests.test_notifications" name="ISORT" time="0.021" /><testcase classname="tests.test_notifications" name="black" time="0.176" /><testcase classname="tests.test_notifications" name="test_user_recipient_generator" time="1.526" /><testcase classname="tests.test_notifications" name="test_user_recipient_filter" time="0.171" /><testcase classname="invenio_users_resources.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.__init__" name="ISORT" time="0.005" /><testcase classname="invenio_users_resources.__init__" name="black" time="0.162" /><testcase classname="invenio_users_resources.config" name="PYDOCSTYLE" time="0.013" /><testcase classname="invenio_users_resources.config" name="ISORT" time="0.045" /><testcase classname="invenio_users_resources.config" name="black" time="0.203" /><testcase classname="invenio_users_resources.entity_resolvers" name="PYDOCSTYLE" time="0.020" /><testcase classname="invenio_users_resources.entity_resolvers" name="ISORT" time="0.037" /><testcase classname="invenio_users_resources.entity_resolvers" name="black" time="0.197" /><testcase classname="invenio_users_resources.ext" name="PYDOCSTYLE" time="0.016" /><testcase classname="invenio_users_resources.ext" name="ISORT" time="0.028" /><testcase classname="invenio_users_resources.ext" name="black" time="0.185" /><testcase classname="invenio_users_resources.forms" name="PYDOCSTYLE" time="0.005" /><testcase classname="invenio_users_resources.forms" name="ISORT" time="0.013" /><testcase classname="invenio_users_resources.forms" name="black" time="0.165" /><testcase classname="invenio_users_resources.models" name="PYDOCSTYLE" time="0.005" /><testcase classname="invenio_users_resources.models" name="ISORT" time="0.008" /><testcase classname="invenio_users_resources.models" name="black" time="0.165" /><testcase classname="invenio_users_resources.notifications.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="invenio_users_resources.notifications.__init__" name="ISORT" time="0.004" /><testcase classname="invenio_users_resources.notifications.__init__" name="black" time="0.159" /><testcase classname="invenio_users_resources.notifications.filters" name="PYDOCSTYLE" time="0.004" /><testcase classname="invenio_users_resources.notifications.filters" name="ISORT" time="0.009" /><testcase classname="invenio_users_resources.notifications.filters" name="black" time="0.164" /><testcase classname="invenio_users_resources.notifications.generators" name="PYDOCSTYLE" time="0.009" /><testcase classname="invenio_users_resources.notifications.generators" name="ISORT" time="0.018" /><testcase classname="invenio_users_resources.notifications.generators" name="black" time="0.175" /><testcase classname="invenio_users_resources.permissions" name="PYDOCSTYLE" time="0.002" /><testcase classname="invenio_users_resources.permissions" name="ISORT" time="0.006" /><testcase classname="invenio_users_resources.permissions" name="black" time="0.164" /><testcase classname="invenio_users_resources.proxies" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.proxies" name="ISORT" time="0.011" /><testcase classname="invenio_users_resources.proxies" name="black" time="0.167" /><testcase classname="invenio_users_resources.records.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.records.__init__" name="ISORT" time="0.006" /><testcase classname="invenio_users_resources.records.__init__" name="black" time="0.163" /><testcase classname="invenio_users_resources.records.api" name="PYDOCSTYLE" time="0.039" /><testcase classname="invenio_users_resources.records.api" name="ISORT" time="0.081" /><testcase classname="invenio_users_resources.records.api" name="black" time="0.251" /><testcase classname="invenio_users_resources.records.dumpers.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.records.dumpers.__init__" name="ISORT" time="0.006" /><testcase classname="invenio_users_resources.records.dumpers.__init__" name="black" time="0.161" /><testcase classname="invenio_users_resources.records.dumpers.email" name="PYDOCSTYLE" time="0.005" /><testcase classname="invenio_users_resources.records.dumpers.email" name="ISORT" time="0.010" /><testcase classname="invenio_users_resources.records.dumpers.email" name="black" time="0.166" /><testcase classname="invenio_users_resources.records.hooks" name="PYDOCSTYLE" time="0.008" /><testcase classname="invenio_users_resources.records.hooks" name="ISORT" time="0.018" /><testcase classname="invenio_users_resources.records.hooks" name="black" time="0.175" /><testcase classname="invenio_users_resources.records.mappings.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.records.mappings.__init__" name="ISORT" time="0.004" /><testcase classname="invenio_users_resources.records.mappings.__init__" name="black" time="0.159" /><testcase classname="invenio_users_resources.records.mappings.os-v1.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="invenio_users_resources.records.mappings.os-v1.__init__" name="ISORT" time="0.004" /><testcase classname="invenio_users_resources.records.mappings.os-v1.__init__" name="black" time="0.161" /><testcase classname="invenio_users_resources.records.mappings.os-v2.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="invenio_users_resources.records.mappings.os-v2.__init__" name="ISORT" time="0.004" /><testcase classname="invenio_users_resources.records.mappings.os-v2.__init__" name="black" time="0.162" /><testcase classname="invenio_users_resources.records.mappings.v7.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.records.mappings.v7.__init__" name="ISORT" time="0.004" /><testcase classname="invenio_users_resources.records.mappings.v7.__init__" name="black" time="0.158" /><testcase classname="invenio_users_resources.records.models" name="PYDOCSTYLE" time="0.019" /><testcase classname="invenio_users_resources.records.models" name="ISORT" time="0.041" /><testcase classname="invenio_users_resources.records.models" name="black" time="0.200" /><testcase classname="invenio_users_resources.records.systemfields.__init__" name="PYDOCSTYLE" time="0.017" /><testcase classname="invenio_users_resources.records.systemfields.__init__" name="ISORT" time="0.032" /><testcase classname="invenio_users_resources.records.systemfields.__init__" name="black" time="0.193" /><testcase classname="invenio_users_resources.resources.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.resources.__init__" name="ISORT" time="0.007" /><testcase classname="invenio_users_resources.resources.__init__" name="black" time="0.162" /><testcase classname="invenio_users_resources.resources.domains.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.resources.domains.__init__" name="ISORT" time="0.006" /><testcase classname="invenio_users_resources.resources.domains.__init__" name="black" time="0.163" /><testcase classname="invenio_users_resources.resources.domains.config" name="PYDOCSTYLE" time="0.004" /><testcase classname="invenio_users_resources.resources.domains.config" name="ISORT" time="0.012" /><testcase classname="invenio_users_resources.resources.domains.config" name="black" time="0.165" /><testcase classname="invenio_users_resources.resources.domains.resource" name="PYDOCSTYLE" time="0.004" /><testcase classname="invenio_users_resources.resources.domains.resource" name="ISORT" time="0.011" /><testcase classname="invenio_users_resources.resources.domains.resource" name="black" time="0.168" /><testcase classname="invenio_users_resources.resources.groups.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.resources.groups.__init__" name="ISORT" time="0.006" /><testcase classname="invenio_users_resources.resources.groups.__init__" name="black" time="0.161" /><testcase classname="invenio_users_resources.resources.groups.config" name="PYDOCSTYLE" time="0.004" /><testcase classname="invenio_users_resources.resources.groups.config" name="ISORT" time="0.012" /><testcase classname="invenio_users_resources.resources.groups.config" name="black" time="0.165" /><testcase classname="invenio_users_resources.resources.groups.resource" name="PYDOCSTYLE" time="0.008" /><testcase classname="invenio_users_resources.resources.groups.resource" name="ISORT" time="0.019" /><testcase classname="invenio_users_resources.resources.groups.resource" name="black" time="0.173" /><testcase classname="invenio_users_resources.resources.users.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.resources.users.__init__" name="ISORT" time="0.006" /><testcase classname="invenio_users_resources.resources.users.__init__" name="black" time="0.159" /><testcase classname="invenio_users_resources.resources.users.config" name="PYDOCSTYLE" time="0.006" /><testcase classname="invenio_users_resources.resources.users.config" name="ISORT" time="0.019" /><testcase classname="invenio_users_resources.resources.users.config" name="black" time="0.172" /><testcase classname="invenio_users_resources.resources.users.errors" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.resources.users.errors" name="ISORT" time="0.008" /><testcase classname="invenio_users_resources.resources.users.errors" name="black" time="0.162" /><testcase classname="invenio_users_resources.resources.users.resource" name="PYDOCSTYLE" time="0.017" /><testcase classname="invenio_users_resources.resources.users.resource" name="ISORT" time="0.036" /><testcase classname="invenio_users_resources.resources.users.resource" name="black" time="0.198" /><testcase classname="invenio_users_resources.services.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.services.__init__" name="ISORT" time="0.007" /><testcase classname="invenio_users_resources.services.__init__" name="black" time="0.163" /><testcase classname="invenio_users_resources.services.common" name="PYDOCSTYLE" time="0.004" /><testcase classname="invenio_users_resources.services.common" name="ISORT" time="0.008" /><testcase classname="invenio_users_resources.services.common" name="black" time="0.163" /><testcase classname="invenio_users_resources.services.domains.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.services.domains.__init__" name="ISORT" time="0.006" /><testcase classname="invenio_users_resources.services.domains.__init__" name="black" time="0.161" /><testcase classname="invenio_users_resources.services.domains.components" name="PYDOCSTYLE" time="0.007" /><testcase classname="invenio_users_resources.services.domains.components" name="ISORT" time="0.015" /><testcase classname="invenio_users_resources.services.domains.components" name="black" time="0.173" /><testcase classname="invenio_users_resources.services.domains.config" name="PYDOCSTYLE" time="0.007" /><testcase classname="invenio_users_resources.services.domains.config" name="ISORT" time="0.023" /><testcase classname="invenio_users_resources.services.domains.config" name="black" time="0.174" /><testcase classname="invenio_users_resources.services.domains.facets" name="PYDOCSTYLE" time="0.005" /><testcase classname="invenio_users_resources.services.domains.facets" name="ISORT" time="0.013" /><testcase classname="invenio_users_resources.services.domains.facets" name="black" time="0.167" /><testcase classname="invenio_users_resources.services.domains.service" name="PYDOCSTYLE" time="0.004" /><testcase classname="invenio_users_resources.services.domains.service" name="ISORT" time="0.010" /><testcase classname="invenio_users_resources.services.domains.service" name="black" time="0.163" /><testcase classname="invenio_users_resources.services.domains.tasks" name="PYDOCSTYLE" time="0.012" /><testcase classname="invenio_users_resources.services.domains.tasks" name="ISORT" time="0.023" /><testcase classname="invenio_users_resources.services.domains.tasks" name="black" time="0.182" /><testcase classname="invenio_users_resources.services.generators" name="PYDOCSTYLE" time="0.017" /><testcase classname="invenio_users_resources.services.generators" name="ISORT" time="0.029" /><testcase classname="invenio_users_resources.services.generators" name="black" time="0.193" /><testcase classname="invenio_users_resources.services.groups.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_users_resources.services.groups.__init__" name="ISORT" time="0.007" /><testcase classname="invenio_users_resources.services.groups.__init__" name="black" time="0.161" /><testcase classname="invenio_users_resources.services.groups.config" name="PYDOCSTYLE" time="0.006" /><testcase classname="invenio_users_resources.services.groups.config" name="ISORT" time="0.021" /><testcase classname="invenio_users_resources.services.groups.config" name="black" time="0.176" /><testcase classname="invenio_users_resources.services.groups.results" name="PYDOCSTYLE" time="0.012" /><testcase classname="invenio_users_resources.services.groups.results" name="ISORT" time="0.024" /><testcase classname="invenio_users_resources.services.groups.results" name="black" time="0.184" /><testcase classname="invenio_users_resources.services.groups.service" name="PYDOCSTYLE" time="0.007" /><testcase classname="invenio_users_resources.services.groups.service" name="ISORT" time="0.015" /><testcase classname="invenio_users_resources.services.groups.service" name="black" time="0.172" /><testcase classname="invenio_users_resources.services.groups.tasks" name="PYDOCSTYLE" time="0.006" /><testcase classname="invenio_users_resources.services.groups.tasks" name="ISORT" time="0.012" /><testcase classname="invenio_users_resources.services.groups.tasks" name="black" time="0.169" /><testcase classname="invenio_users_resources.services.params" name="PYDOCSTYLE" time="0.004" /><testcase classname="invenio_users_resources.services.params" name="ISORT" time="0.010" /><testcase classname="invenio_users_resources.services.params" name="black" time="0.165" /><testcase classname="invenio_users_resources.services.permissions" name="PYDOCSTYLE" time="0.007" /><testcase classname="invenio_users_resources.services.permissions" name="ISORT" time="0.017" /><testcase classname="invenio_users_resources.services.permissions" name="black" time="0.175" /><testcase classname="invenio_users_resources.services.results" name="PYDOCSTYLE" time="0.008" /><testcase classname="invenio_users_resources.services.results" name="ISORT" time="0.016" /><testcase classname="invenio_users_resources.services.results" name="black" time="0.172" /><testcase classname="invenio_users_resources.services.schemas" name="PYDOCSTYLE" time="0.026" /><testcase classname="invenio_users_resources.services.schemas" name="ISORT" time="0.060" /><testcase classname="invenio_users_resources.services.schemas" name="black" time="0.227" /><testcase classname="invenio_users_resources.services.users.__init__" name="PYDOCSTYLE" time="0.004" /><testcase classname="invenio_users_resources.services.users.__init__" name="ISORT" time="0.006" /><testcase classname="invenio_users_resources.services.users.__init__" name="black" time="0.159" /><testcase classname="invenio_users_resources.services.users.config" name="PYDOCSTYLE" time="0.013" /><testcase classname="invenio_users_resources.services.users.config" name="ISORT" time="0.045" /><testcase classname="invenio_users_resources.services.users.config" name="black" time="0.194" /><testcase classname="invenio_users_resources.services.users.facets" name="PYDOCSTYLE" time="0.005" /><testcase classname="invenio_users_resources.services.users.facets" name="ISORT" time="0.015" /><testcase classname="invenio_users_resources.services.users.facets" name="black" time="0.174" /><testcase classname="invenio_users_resources.services.users.lock" name="PYDOCSTYLE" time="0.006" /><testcase classname="invenio_users_resources.services.users.lock" name="ISORT" time="0.011" /><testcase classname="invenio_users_resources.services.users.lock" name="black" time="0.169" /><testcase classname="invenio_users_resources.services.users.results" name="PYDOCSTYLE" time="0.012" /><testcase classname="invenio_users_resources.services.users.results" name="ISORT" time="0.024" /><testcase classname="invenio_users_resources.services.users.results" name="black" time="0.185" /><testcase classname="invenio_users_resources.services.users.search_params" name="PYDOCSTYLE" time="0.007" /><testcase classname="invenio_users_resources.services.users.search_params" name="ISORT" time="0.015" /><testcase classname="invenio_users_resources.services.users.search_params" name="black" time="0.175" /><testcase classname="invenio_users_resources.services.users.service" name="PYDOCSTYLE" time="0.024" /><testcase classname="invenio_users_resources.services.users.service" name="ISORT" time="0.054" /><testcase classname="invenio_users_resources.services.users.service" name="black" time="0.215" /><testcase classname="invenio_users_resources.services.users.tasks" name="PYDOCSTYLE" time="0.012" /><testcase classname="invenio_users_resources.services.users.tasks" name="ISORT" time="0.028" /><testcase classname="invenio_users_resources.services.users.tasks" name="black" time="0.182" /><testcase classname="invenio_users_resources.views" name="PYDOCSTYLE" time="0.005" /><testcase classname="invenio_users_resources.views" name="ISORT" time="0.010" /><testcase classname="invenio_users_resources.views" name="black" time="0.165" /></testsuite></testsuites>