<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="1" skipped="0" tests="140" time="12.127" timestamp="2025-11-18T12:43:03.998292+00:00" hostname="runnervmg1sw1"><testcase classname="docs.conf" name="PYDOCSTYLE" time="0.011" /><testcase classname="docs.conf" name="ISORT" time="0.152" /><testcase classname="docs.conf" name="black" time="0.343" /><testcase classname="tests.conftest" name="PYDOCSTYLE" time="0.011" /><testcase classname="tests.conftest" name="ISORT" time="0.021" /><testcase classname="tests.conftest" name="black" time="0.170" /><testcase classname="tests.mock_module.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.__init__" name="black" time="0.158" /><testcase classname="tests.mock_module.component_templates.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.component_templates.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.component_templates.__init__" name="black" time="0.155" /><testcase classname="tests.mock_module.component_templates.os-v2.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.component_templates.os-v2.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.component_templates.os-v2.__init__" name="black" time="0.155" /><testcase classname="tests.mock_module.component_templates.v7.__init__" name="PYDOCSTYLE" time="0.003" /><testcase classname="tests.mock_module.component_templates.v7.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.component_templates.v7.__init__" name="black" time="0.156" /><testcase classname="tests.mock_module.index_templates.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.index_templates.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.index_templates.__init__" name="black" time="0.155" /><testcase classname="tests.mock_module.index_templates.os-v2.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.index_templates.os-v2.__init__" name="ISORT" time="0.006" /><testcase classname="tests.mock_module.index_templates.os-v2.__init__" name="black" time="0.158" /><testcase classname="tests.mock_module.index_templates.v7.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.index_templates.v7.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.index_templates.v7.__init__" name="black" time="0.156" /><testcase classname="tests.mock_module.mappings.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.mappings.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.mappings.__init__" name="black" time="0.155" /><testcase classname="tests.mock_module.mappings.os-v1.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.mappings.os-v1.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.mappings.os-v1.__init__" name="black" time="0.157" /><testcase classname="tests.mock_module.mappings.os-v2.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.mappings.os-v2.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.mappings.os-v2.__init__" name="black" time="0.155" /><testcase classname="tests.mock_module.mappings.v7.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.mappings.v7.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.mappings.v7.__init__" name="black" time="0.154" /><testcase classname="tests.mock_module.templates.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.templates.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.templates.__init__" name="black" time="0.154" /><testcase classname="tests.mock_module.templates.os-v1.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.templates.os-v1.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.templates.os-v1.__init__" name="black" time="0.155" /><testcase classname="tests.mock_module.templates.os-v2.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.templates.os-v2.__init__" name="ISORT" time="0.004" /><testcase classname="tests.mock_module.templates.os-v2.__init__" name="black" time="0.154" /><testcase classname="tests.mock_module.templates.v7.__init__" name="PYDOCSTYLE" time="0.002" /><testcase classname="tests.mock_module.templates.v7.__init__" name="ISORT" time="0.005" /><testcase classname="tests.mock_module.templates.v7.__init__" name="black" time="0.157" /><testcase classname="tests.test_cli" name="ISORT" time="0.043" /><testcase classname="tests.test_cli" name="black" time="0.203" /><testcase classname="tests.test_cli" name="test_init" time="0.666" /><testcase classname="tests.test_cli" name="test_list" time="0.028" /><testcase classname="tests.test_cli" name="test_check" time="0.030"><failure message="assert 0 &gt; 0&#10; +  where 0 = &lt;Result okay&gt;.exit_code">app = &lt;Flask 'testapp'&gt;

    def test_check(app):
        runner = CliRunner()
        script_info = ScriptInfo(create_app=lambda: app)
    
        result = runner.invoke(cmd, ["check"], obj=script_info)
        assert result.exit_code == 0
    
        wrong_version = search.VERSION[0] + 1
        with patch(
            "invenio_search.cli.search.VERSION",
            return_value=(wrong_version, 0, 0),
        ):
            result = runner.invoke(cmd, ["check"], obj=script_info)
&gt;           assert result.exit_code &gt; 0
E           assert 0 &gt; 0
E            +  where 0 = &lt;Result okay&gt;.exit_code

app        = &lt;Flask 'testapp'&gt;
result     = &lt;Result okay&gt;
runner     = &lt;click.testing.CliRunner object at 0x7fa1fe5b29c0&gt;
script_info = &lt;flask.cli.ScriptInfo object at 0x7fa1fe5b2d50&gt;
wrong_version = 3

tests/test_cli.py:155: AssertionError</failure></testcase><testcase classname="tests.test_cli" name="test_create_put_and_delete" time="0.150" /><testcase classname="tests.test_invenio_search" name="ISORT" time="0.082" /><testcase classname="tests.test_invenio_search" name="black" time="0.258" /><testcase classname="tests.test_invenio_search" name="test_version" time="0.001" /><testcase classname="tests.test_invenio_search" name="test_init" time="0.039" /><testcase classname="tests.test_invenio_search" name="test_client_config" time="0.021" /><testcase classname="tests.test_invenio_search" name="test_flush_and_refresh" time="0.028" /><testcase classname="tests.test_invenio_search" name="test_client_reference" time="0.039" /><testcase classname="tests.test_invenio_search" name="test_default_client" time="0.022" /><testcase classname="tests.test_invenio_search" name="test_load_entry_point_group" time="0.024" /><testcase classname="tests.test_invenio_search" name="test_whitelisted_aliases[None-expected_aliases0]" time="0.363" /><testcase classname="tests.test_invenio_search" name="test_whitelisted_aliases[aliases_config1-expected_aliases1]" time="0.414" /><testcase classname="tests.test_invenio_search" name="test_whitelisted_aliases[aliases_config2-expected_aliases2]" time="0.168" /><testcase classname="tests.test_invenio_search" name="test_whitelisted_aliases[aliases_config3-expected_aliases3]" time="0.049" /><testcase classname="tests.test_invenio_search" name="test_whitelisted_aliases[aliases_config4-expected_aliases4]" time="0.026" /><testcase classname="tests.test_invenio_search" name="test_creating_alias_existing_index[-authors-authors-v1.0.0-None-expected0]" time="0.072" /><testcase classname="tests.test_invenio_search" name="test_creating_alias_existing_index[-None-authors-authors-v1.0.0-expected1]" time="0.101" /><testcase classname="tests.test_invenio_search" name="test_creating_alias_existing_index[-abc-authors-authors-v1.0.0-None-expected2]" time="0.107" /><testcase classname="tests.test_invenio_search" name="test_creating_alias_existing_index[-test-authors-authors-not-exist-None-expected3]" time="0.176" /><testcase classname="tests.test_invenio_search" name="test_prefix_search_mappings[aliases_config0-test--expected_aliases0]" time="0.022" /><testcase classname="tests.test_invenio_search" name="test_prefix_search_mappings[aliases_config1-dev--expected_aliases1]" time="0.020" /><testcase classname="tests.test_invenio_search" name="test_indices_prefix_empty_value" time="0.290" /><testcase classname="tests.test_invenio_search" name="test_indices_prefix_none_value" time="0.276" /><testcase classname="tests.test_invenio_search" name="test_indices_prefix_some_value" time="0.279" /><testcase classname="tests.test_invenio_search" name="test_templates_prefix_empty_value" time="0.069" /><testcase classname="tests.test_invenio_search" name="test_templates_prefix_none_value" time="0.058" /><testcase classname="tests.test_invenio_search" name="test_templates_prefix_some_value" time="0.059" /><testcase classname="tests.test_invenio_search" name="test_current_suffix" time="0.020" /><testcase classname="tests.test_invenio_search" name="test_not_dry_run_and_index_exists" time="0.073" /><testcase classname="tests.test_invenio_search" name="test_create_selected_indexes" time="0.127" /><testcase classname="tests.test_invenio_search" name="test_delete_selected_indexes" time="0.340" /><testcase classname="tests.test_invenio_search" name="test_create_when_indexes_already_exists_with_ignore_existing_true" time="0.333" /><testcase classname="tests.test_invenio_search" name="test_update_mappings" time="0.114" /><testcase classname="tests.test_query" name="ISORT" time="0.048" /><testcase classname="tests.test_query" name="black" time="0.217" /><testcase classname="tests.test_query" name="test_empty_query" time="0.022" /><testcase classname="tests.test_query" name="test_search_query" time="0.022" /><testcase classname="tests.test_query" name="test_es_preference_param_no_request" time="0.020" /><testcase classname="tests.test_query" name="test_es_preference_param" time="0.019" /><testcase classname="tests.test_query" name="test_recordsearchv2_without_preference_param" time="0.019" /><testcase classname="tests.test_query" name="test_recordsearchv2_with_preference_param" time="0.019" /><testcase classname="tests.test_query" name="test_search_query_min_score[RecordsSearch]" time="0.020" /><testcase classname="tests.test_query" name="test_search_query_min_score[RecordsSearchV2]" time="0.019" /><testcase classname="tests.test_query" name="test_prefix_index_from_meta" time="0.019" /><testcase classname="tests.test_query" name="test_prefix_index_from_kwargs[RecordsSearch]" time="0.019" /><testcase classname="tests.test_query" name="test_prefix_index_from_kwargs[RecordsSearchV2]" time="0.019" /><testcase classname="tests.test_query" name="test_prefix_index_list[RecordsSearch]" time="0.019" /><testcase classname="tests.test_query" name="test_prefix_index_list[RecordsSearchV2]" time="0.019" /><testcase classname="tests.test_query" name="test_prefix_multi_index_string[RecordsSearch]" time="0.019" /><testcase classname="tests.test_query" name="test_prefix_multi_index_string[RecordsSearchV2]" time="0.020" /><testcase classname="tests.test_utils" name="ISORT" time="0.009" /><testcase classname="tests.test_utils" name="black" time="0.161" /><testcase classname="tests.test_utils" name="test_build_suffix_index_name[parts0---records]" time="0.021" /><testcase classname="tests.test_utils" name="test_build_suffix_index_name[parts1-foo---foo-records]" time="0.020" /><testcase classname="tests.test_utils" name="test_build_suffix_index_name[parts2-foo---foo-records-record]" time="0.021" /><testcase classname="tests.test_utils" name="test_build_suffix_index_name[parts3---new-records-record-new]" time="0.019" /><testcase classname="tests.test_utils" name="test_build_suffix_index_name[parts4-foo---old-foo-test-recs-rec-old]" time="0.020" /><testcase classname="invenio_search.__init__" name="PYDOCSTYLE" time="0.008" /><testcase classname="invenio_search.__init__" name="ISORT" time="0.039" /><testcase classname="invenio_search.__init__" name="black" time="0.169" /><testcase classname="invenio_search.api" name="PYDOCSTYLE" time="0.030" /><testcase classname="invenio_search.api" name="ISORT" time="0.044" /><testcase classname="invenio_search.api" name="black" time="0.206" /><testcase classname="invenio_search.cli" name="PYDOCSTYLE" time="0.023" /><testcase classname="invenio_search.cli" name="ISORT" time="0.046" /><testcase classname="invenio_search.cli" name="black" time="0.213" /><testcase classname="invenio_search.config" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_search.config" name="ISORT" time="0.013" /><testcase classname="invenio_search.config" name="black" time="0.162" /><testcase classname="invenio_search.engine" name="PYDOCSTYLE" time="0.007" /><testcase classname="invenio_search.engine" name="ISORT" time="0.023" /><testcase classname="invenio_search.engine" name="black" time="0.168" /><testcase classname="invenio_search.errors" name="PYDOCSTYLE" time="0.002" /><testcase classname="invenio_search.errors" name="ISORT" time="0.005" /><testcase classname="invenio_search.errors" name="black" time="0.155" /><testcase classname="invenio_search.ext" name="PYDOCSTYLE" time="0.050" /><testcase classname="invenio_search.ext" name="ISORT" time="0.092" /><testcase classname="invenio_search.ext" name="black" time="0.271" /><testcase classname="invenio_search.proxies" name="PYDOCSTYLE" time="0.003" /><testcase classname="invenio_search.proxies" name="ISORT" time="0.009" /><testcase classname="invenio_search.proxies" name="black" time="0.158" /><testcase classname="invenio_search.utils" name="PYDOCSTYLE" time="0.009" /><testcase classname="invenio_search.utils" name="ISORT" time="0.014" /><testcase classname="invenio_search.utils" name="black" time="0.168" /></testsuite></testsuites>