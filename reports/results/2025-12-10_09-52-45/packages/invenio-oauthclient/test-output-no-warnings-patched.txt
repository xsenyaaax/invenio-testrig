 rabbitmq Pulling 
 postgresql Pulling 
 rabbitmq Pulled 
 postgresql Pulled 
 Network docker_services_cli_default  Creating
 Network docker_services_cli_default  Created
 Container docker_services_cli-postgresql-1  Creating
 Container docker_services_cli-rabbitmq-1  Creating
 Container docker_services_cli-postgresql-1  Created
 Container docker_services_cli-rabbitmq-1  Created
 Container docker_services_cli-rabbitmq-1  Starting
 Container docker_services_cli-postgresql-1  Starting
 Container docker_services_cli-postgresql-1  Started
 Container docker_services_cli-rabbitmq-1  Started
============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0 -- /home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/bin/python
cachedir: .pytest_cache
rootdir: /home/runner/work/invenio-testrig/invenio-testrig/package-repo
configfile: setup.cfg
testpaths: docs, tests, invenio_oauthclient
plugins: github-actions-annotate-failures-0.3.0, pycodestyle-2.5.0, flask-1.3.0, black-ng-0.4.1, invenio-3.4.2, isort-4.0.0, cov-7.0.0, pydocstyle-2.4.0
collecting ... collected 338 items

docs/conf.py::PYDOCSTYLE PASSED
docs/conf.py::ISORT PASSED
docs/conf.py::black PASSED
tests/conftest.py::PYDOCSTYLE PASSED
tests/conftest.py::ISORT PASSED
tests/conftest.py::black PASSED
tests/helpers.py::PYDOCSTYLE PASSED
tests/helpers.py::ISORT PASSED
tests/helpers.py::black PASSED
tests/test_admin.py::ISORT PASSED
tests/test_admin.py::black PASSED
tests/test_admin.py::test_admin PASSED
tests/test_app.py::ISORT PASSED
tests/test_app.py::black PASSED
tests/test_app.py::test_version PASSED
tests/test_app.py::test_init PASSED
tests/test_app.py::test_standard_remote_app_factory PASSED
tests/test_app.py::test_remote_app_factory_global_customization PASSED
tests/test_app.py::test_remote_app_factory_local_customization PASSED
tests/test_app.py::test_db PASSED
tests/test_app.py::test_alembic SKIPPED (Incorrect execution order of
recipes from invenio-access and invenio-accounts.)
tests/test_app.py::test_remote_app_factory_hide_when[True] PASSED
tests/test_app.py::test_remote_app_factory_hide_when[False] PASSED
tests/test_app.py::test_remote_app_factory_hide_when[<lambda>0] PASSED
tests/test_app.py::test_remote_app_factory_hide_when[<lambda>1] PASSED
tests/test_base_handlers.py::ISORT PASSED
tests/test_base_handlers.py::black PASSED
tests/test_base_handlers.py::test_token_setter PASSED
tests/test_base_handlers.py::test_token_getter PASSED

tests/test_contrib_cern_openid.py::ISORT PASSED
tests/test_contrib_cern_openid.py::black PASSED
tests/test_contrib_cern_openid.py::test_fetch_extra_data PASSED
tests/test_contrib_cern_openid.py::test_account_info PASSED

tests/test_contrib_cern_openid.py::test_account_setup PASSED

tests/test_contrib_cern_openid.py::test_login PASSED

tests/test_contrib_cern_openid.py::test_authorized_reject PASSED

tests/test_contrib_cern_openid.py::test_account_info_not_allowed_account PASSED

tests/test_contrib_cern_openid_rest.py::ISORT PASSED
tests/test_contrib_cern_openid_rest.py::black PASSED
tests/test_contrib_cern_openid_rest.py::test_fetch_extra_data PASSED

tests/test_contrib_cern_openid_rest.py::test_account_info_rest PASSED

tests/test_contrib_cern_openid_rest.py::test_account_setup PASSED

tests/test_contrib_cern_openid_rest.py::test_login PASSED

tests/test_contrib_cern_openid_rest.py::test_authorized_reject PASSED

tests/test_contrib_cern_openid_rest.py::test_account_info_not_allowed_account PASSED

tests/test_contrib_cern_openid_rest.py::test_identity_changed PASSED

tests/test_contrib_eosc_aai.py::ISORT PASSED
tests/test_contrib_eosc_aai.py::black PASSED
tests/test_contrib_eosc_aai.py::test_account_info PASSED

tests/test_contrib_eosc_aai.py::test_login PASSED

tests/test_contrib_eosc_aai.py::test_authorized_signup PASSED

tests/test_contrib_eosc_aai.py::test_authorized_signup_complete_flow PASSED

tests/test_contrib_eosc_aai.py::test_authorized_reject PASSED

tests/test_contrib_eosc_aai.py::test_authorized_already_authenticated PASSED

tests/test_contrib_eosc_aai.py::test_not_authenticated PASSED

tests/test_contrib_eosc_aai.py::test_project_entitlements_extraction PASSED
tests/test_contrib_github.py::ISORT PASSED
tests/test_contrib_github.py::black PASSED
tests/test_contrib_github.py::test_login PASSED

tests/test_contrib_github.py::test_authorized_signup_valid_user PASSED

tests/test_contrib_github.py::test_authorized_signup_username_already_exists PASSED

tests/test_contrib_github.py::test_authorized_reject PASSED

tests/test_contrib_github.py::test_authorized_already_authenticated PASSED

tests/test_contrib_github.py::test_not_authenticated PASSED

tests/test_contrib_github.py::test_authorized_handler PASSED
tests/test_contrib_github_rest.py::ISORT PASSED
tests/test_contrib_github_rest.py::black PASSED
tests/test_contrib_github_rest.py::test_login PASSED

tests/test_contrib_github_rest.py::test_authorized_signup_valid_user PASSED

tests/test_contrib_github_rest.py::test_authorized_signup_username_already_exists PASSED

tests/test_contrib_github_rest.py::test_authorized_reject PASSED

tests/test_contrib_github_rest.py::test_authorized_already_authenticated PASSED

tests/test_contrib_github_rest.py::test_not_authenticated PASSED

tests/test_contrib_github_rest.py::test_authorized_rest_handler PASSED

tests/test_contrib_globus.py::ISORT PASSED
tests/test_contrib_globus.py::black PASSED
tests/test_contrib_globus.py::test_login PASSED

tests/test_contrib_globus.py::test_authorized_signup_valid_user PASSED

tests/test_contrib_globus.py::test_authorized_reject PASSED

tests/test_contrib_globus.py::test_authorized_already_authenticated PASSED

tests/test_contrib_globus.py::test_not_authenticated PASSED

tests/test_contrib_globus.py::test_bad_provider_response PASSED

tests/test_contrib_globus.py::test_invalid_user_id_response PASSED

tests/test_contrib_keycloak.py::ISORT PASSED
tests/test_contrib_keycloak.py::black PASSED
tests/test_contrib_keycloak.py::test_login PASSED

tests/test_contrib_keycloak.py::test_authorized_signup_valid_user PASSED

tests/test_contrib_keycloak.py::test_authorized_signup_valid_user_not_confirmed PASSED

tests/test_contrib_keycloak.py::test_authorized_reject PASSED

tests/test_contrib_keycloak.py::test_authorized_already_authenticated PASSED

tests/test_contrib_keycloak.py::test_not_authenticated PASSED

tests/test_contrib_keycloak.py::test_format_public_key PASSED
tests/test_contrib_keycloak.py::test_format_public_key_idempotence PASSED
tests/test_contrib_keycloak.py::test_get_realm_key PASSED
tests/test_contrib_keycloak.py::test_get_userinfo_from_token PASSED

tests/test_contrib_keycloak.py::test_get_userinfo_from_endpoint PASSED

tests/test_contrib_keycloak.py::test_raise_on_invalid_app_name PASSED
tests/test_contrib_orcid.py::ISORT PASSED
tests/test_contrib_orcid.py::black PASSED
tests/test_contrib_orcid.py::test_account_info PASSED

tests/test_contrib_orcid.py::test_login PASSED

tests/test_contrib_orcid.py::test_authorized_signup PASSED

tests/test_contrib_orcid.py::test_authorized_reject PASSED

tests/test_contrib_orcid.py::test_authorized_already_authenticated PASSED

tests/test_contrib_orcid.py::test_not_authenticated PASSED

tests/test_contrib_orcid_rest.py::ISORT PASSED
tests/test_contrib_orcid_rest.py::black PASSED
tests/test_contrib_orcid_rest.py::test_account_info PASSED

tests/test_contrib_orcid_rest.py::test_login PASSED

tests/test_contrib_orcid_rest.py::test_authorized_signup PASSED

tests/test_contrib_orcid_rest.py::test_authorized_reject PASSED

tests/test_contrib_orcid_rest.py::test_authorized_already_authenticated PASSED

tests/test_contrib_orcid_rest.py::test_not_authenticated PASSED

tests/test_examples_app.py::ISORT PASSED
tests/test_examples_app.py::black PASSED
tests/test_examples_app.py::test_app[orcid] SKIPPED (Caused by
mergepoint)
tests/test_examples_app.py::test_app[github] SKIPPED (Caused by
mergepoint)
tests/test_examples_app.py::test_app[globus] SKIPPED (Caused by
mergepoint)
tests/test_examples_app.py::test_app_rest[orcid] SKIPPED (Caused by
mergepoint)
tests/test_examples_app.py::test_app_rest[github] SKIPPED (Caused by
mergepoint)
tests/test_examples_app.py::test_app_rest[globus] SKIPPED (Caused by
mergepoint)
tests/test_handlers_rest.py::ISORT PASSED
tests/test_handlers_rest.py::black PASSED
tests/test_handlers_rest.py::test_authorized_signup_handler[github] PASSED

tests/test_handlers_rest.py::test_authorized_signup_handler[orcid] PASSED

tests/test_handlers_rest.py::test_authorized_signup_handler[globus] PASSED

tests/test_handlers_rest.py::test_groups_handler[github] PASSED

tests/test_handlers_rest.py::test_groups_handler[orcid] PASSED

tests/test_handlers_rest.py::test_groups_handler[globus] PASSED

tests/test_handlers_rest.py::test_unauthorized_signup[github] PASSED

tests/test_handlers_rest.py::test_unauthorized_signup[orcid] PASSED

tests/test_handlers_rest.py::test_unauthorized_signup[globus] PASSED

tests/test_handlers_rest.py::test_signup_handler[github] PASSED

tests/test_handlers_rest.py::test_signup_handler[orcid] PASSED

tests/test_handlers_rest.py::test_signup_handler[globus] PASSED

tests/test_handlers_rest.py::test_already_linked_exception[github] PASSED

tests/test_handlers_rest.py::test_already_linked_exception[orcid] PASSED

tests/test_handlers_rest.py::test_already_linked_exception[globus] PASSED

tests/test_handlers_rest.py::test_unauthorized_disconnect[github] PASSED

tests/test_handlers_rest.py::test_unauthorized_disconnect[orcid] PASSED

tests/test_handlers_rest.py::test_unauthorized_disconnect[globus] PASSED

tests/test_handlers_rest.py::test_dummy_handler[github] PASSED
tests/test_handlers_rest.py::test_dummy_handler[orcid] PASSED
tests/test_handlers_rest.py::test_dummy_handler[globus] PASSED
tests/test_handlers_rest.py::test_response_handler[github] PASSED
tests/test_handlers_rest.py::test_response_handler[orcid] PASSED
tests/test_handlers_rest.py::test_response_handler[globus] PASSED
tests/test_handlers_rest.py::test_response_handler_with_postmessage[github] PASSED

tests/test_handlers_rest.py::test_response_handler_with_postmessage[orcid] PASSED

tests/test_handlers_rest.py::test_response_handler_with_postmessage[globus] PASSED

tests/test_handlers_ui.py::ISORT PASSED
tests/test_handlers_ui.py::black PASSED
tests/test_handlers_ui.py::test_authorized_signup_handler PASSED

tests/test_handlers_ui.py::test_groups_handler PASSED

tests/test_handlers_ui.py::test_unauthorized_signup PASSED

tests/test_handlers_ui.py::test_signup_handler PASSED

tests/test_handlers_ui.py::test_already_linked_exception PASSED
tests/test_handlers_ui.py::test_unauthorized_disconnect PASSED
tests/test_handlers_ui.py::test_link_only_signin_exception PASSED
tests/test_handlers_ui.py::test_dummy_handler PASSED
tests/test_models.py::ISORT PASSED
tests/test_models.py::black PASSED
tests/test_models.py::test_get_create_remote_account PASSED

tests/test_models.py::test_get_create_remote_token PASSED

tests/test_models.py::test_get_regression PASSED

tests/test_models.py::test_repr PASSED

tests/test_refresh.py::ISORT PASSED
tests/test_refresh.py::black PASSED
tests/test_refresh.py::test_refresh PASSED

tests/test_utils.py::ISORT PASSED
tests/test_utils.py::black PASSED
tests/test_utils.py::test_utilities PASSED

tests/test_utils.py::test_rebuilding_access_tokens PASSED

tests/test_utils.py::test_app_registrationform_missing_csrf PASSED
tests/test_utils.py::test_app_registrationform_has_csrf PASSED
tests/test_utils.py::test_registrationform_disable_csrf PASSED
tests/test_utils.py::test_registrationform_userprofile_missing_csrf PASSED
tests/test_utils.py::test_app_registrationform_userprofile_has_csrf PASSED
tests/test_utils.py::test_registrationform_userprofile_disable_csrf PASSED
tests/test_utils.py::test_get_safe_redirect_target[https://invenio.org/search?page=1&q=&keywords=taxonomy&keywords=animali-/search?page=1&q=&keywords=taxonomy&keywords=animali] PASSED
tests/test_utils.py::test_get_safe_redirect_target[/search?page=1&size=20-/search?page=1&size=20] PASSED
tests/test_utils.py::test_get_safe_redirect_target[https://localhost/search?page=1-https://localhost/search?page=1] PASSED
tests/test_utils.py::test_get_safe_redirect_target[/oauth/authorize?redirect_uri=http%3A%2F%2F127.0.0.1%3A5100%2Fauthorize-/oauth/authorize?redirect_uri=http://127.0.0.1:5100/authorize] PASSED
tests/test_utils.py::test_patch_dictionary PASSED
tests/test_utils.py::test_precedence_mask PASSED
tests/test_views.py::ISORT PASSED
tests/test_views.py::black PASSED
tests/test_views.py::test_redirect_uri PASSED

tests/test_views.py::test_login PASSED

tests/test_views.py::test_authorized PASSED

tests/test_views.py::test_invalid_authorized_response PASSED

tests/test_views.py::test_state_token PASSED

tests/test_views.py::test_no_remote_app PASSED

tests/test_views.py::test_token_getter_setter PASSED

tests/test_views.py::test_rejected PASSED

tests/test_views.py::test_settings_view PASSED

tests/test_views_rest.py::ISORT PASSED
tests/test_views_rest.py::black PASSED
tests/test_views_rest.py::test_redirect_uri PASSED

tests/test_views_rest.py::test_login PASSED

tests/test_views_rest.py::test_authorized PASSED

tests/test_views_rest.py::test_invalid_authorized_response PASSED

tests/test_views_rest.py::test_state_token PASSED

tests/test_views_rest.py::test_no_remote_app PASSED

tests/test_views_rest.py::test_token_getter_setter PASSED

tests/test_views_rest.py::test_rejected PASSED

invenio_oauthclient/__init__.py::PYDOCSTYLE PASSED
invenio_oauthclient/__init__.py::ISORT PASSED
invenio_oauthclient/__init__.py::black PASSED
invenio_oauthclient/_compat.py::PYDOCSTYLE PASSED
invenio_oauthclient/_compat.py::ISORT PASSED
invenio_oauthclient/_compat.py::black PASSED
invenio_oauthclient/admin.py::PYDOCSTYLE PASSED
invenio_oauthclient/admin.py::ISORT PASSED
invenio_oauthclient/admin.py::black PASSED
invenio_oauthclient/alembic/__init__.py::PYDOCSTYLE PASSED
invenio_oauthclient/alembic/__init__.py::ISORT PASSED
invenio_oauthclient/alembic/__init__.py::black PASSED
invenio_oauthclient/alembic/1758275763_extra_data_jsonb.py::PYDOCSTYLE PASSED
invenio_oauthclient/alembic/1758275763_extra_data_jsonb.py::ISORT PASSED
invenio_oauthclient/alembic/1758275763_extra_data_jsonb.py::black PASSED
invenio_oauthclient/alembic/44ab9963e8cf_create_oauthclient_branch.py::PYDOCSTYLE PASSED
invenio_oauthclient/alembic/44ab9963e8cf_create_oauthclient_branch.py::ISORT PASSED
invenio_oauthclient/alembic/44ab9963e8cf_create_oauthclient_branch.py::black PASSED
invenio_oauthclient/alembic/7def990b852e_add_expires_at_and_refresh_token_to_.py::PYDOCSTYLE PASSED
invenio_oauthclient/alembic/7def990b852e_add_expires_at_and_refresh_token_to_.py::ISORT PASSED
invenio_oauthclient/alembic/7def990b852e_add_expires_at_and_refresh_token_to_.py::black PASSED
invenio_oauthclient/alembic/97bbc733896c_create_oauthclient_tables.py::PYDOCSTYLE PASSED
invenio_oauthclient/alembic/97bbc733896c_create_oauthclient_tables.py::ISORT PASSED
invenio_oauthclient/alembic/97bbc733896c_create_oauthclient_tables.py::black PASSED
invenio_oauthclient/alembic/aaa265b0afa6_move_useridentity_to_acconuts.py::PYDOCSTYLE PASSED
invenio_oauthclient/alembic/aaa265b0afa6_move_useridentity_to_acconuts.py::ISORT PASSED
invenio_oauthclient/alembic/aaa265b0afa6_move_useridentity_to_acconuts.py::black PASSED
invenio_oauthclient/alembic/bff1f190b9bd_add_timestamp_oauthclient.py::PYDOCSTYLE PASSED
invenio_oauthclient/alembic/bff1f190b9bd_add_timestamp_oauthclient.py::ISORT PASSED
invenio_oauthclient/alembic/bff1f190b9bd_add_timestamp_oauthclient.py::black PASSED
invenio_oauthclient/config.py::PYDOCSTYLE PASSED
invenio_oauthclient/config.py::ISORT PASSED
invenio_oauthclient/config.py::black PASSED
invenio_oauthclient/contrib/__init__.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/__init__.py::ISORT PASSED
invenio_oauthclient/contrib/__init__.py::black PASSED
invenio_oauthclient/contrib/cern.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/cern.py::ISORT PASSED
invenio_oauthclient/contrib/cern.py::black PASSED
invenio_oauthclient/contrib/cern_openid.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/cern_openid.py::ISORT PASSED
invenio_oauthclient/contrib/cern_openid.py::black PASSED
invenio_oauthclient/contrib/eosc_aai.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/eosc_aai.py::ISORT PASSED
invenio_oauthclient/contrib/eosc_aai.py::black PASSED
invenio_oauthclient/contrib/github.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/github.py::ISORT PASSED
invenio_oauthclient/contrib/github.py::black PASSED
invenio_oauthclient/contrib/globus.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/globus.py::ISORT PASSED
invenio_oauthclient/contrib/globus.py::black PASSED
invenio_oauthclient/contrib/keycloak/__init__.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/keycloak/__init__.py::ISORT PASSED
invenio_oauthclient/contrib/keycloak/__init__.py::black PASSED
invenio_oauthclient/contrib/keycloak/handlers.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/keycloak/handlers.py::ISORT PASSED
invenio_oauthclient/contrib/keycloak/handlers.py::black PASSED
invenio_oauthclient/contrib/keycloak/helpers.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/keycloak/helpers.py::ISORT PASSED
invenio_oauthclient/contrib/keycloak/helpers.py::black PASSED
invenio_oauthclient/contrib/keycloak/settings.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/keycloak/settings.py::ISORT PASSED
invenio_oauthclient/contrib/keycloak/settings.py::black PASSED
invenio_oauthclient/contrib/openaire_aai.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/openaire_aai.py::ISORT PASSED
invenio_oauthclient/contrib/openaire_aai.py::black PASSED
invenio_oauthclient/contrib/orcid.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/orcid.py::ISORT PASSED
invenio_oauthclient/contrib/orcid.py::black PASSED
invenio_oauthclient/contrib/settings.py::PYDOCSTYLE PASSED
invenio_oauthclient/contrib/settings.py::ISORT PASSED
invenio_oauthclient/contrib/settings.py::black PASSED
invenio_oauthclient/errors.py::PYDOCSTYLE PASSED
invenio_oauthclient/errors.py::ISORT PASSED
invenio_oauthclient/errors.py::black PASSED
invenio_oauthclient/ext.py::PYDOCSTYLE PASSED
invenio_oauthclient/ext.py::ISORT PASSED
invenio_oauthclient/ext.py::black PASSED
invenio_oauthclient/handlers/__init__.py::PYDOCSTYLE PASSED
invenio_oauthclient/handlers/__init__.py::ISORT PASSED
invenio_oauthclient/handlers/__init__.py::black PASSED
invenio_oauthclient/handlers/authorized.py::PYDOCSTYLE PASSED
invenio_oauthclient/handlers/authorized.py::ISORT PASSED
invenio_oauthclient/handlers/authorized.py::black PASSED
invenio_oauthclient/handlers/base.py::PYDOCSTYLE PASSED
invenio_oauthclient/handlers/base.py::ISORT PASSED
invenio_oauthclient/handlers/base.py::black PASSED
invenio_oauthclient/handlers/decorators.py::PYDOCSTYLE PASSED
invenio_oauthclient/handlers/decorators.py::ISORT PASSED
invenio_oauthclient/handlers/decorators.py::black PASSED
invenio_oauthclient/handlers/refresh.py::PYDOCSTYLE PASSED
invenio_oauthclient/handlers/refresh.py::ISORT PASSED
invenio_oauthclient/handlers/refresh.py::black PASSED
invenio_oauthclient/handlers/rest.py::PYDOCSTYLE PASSED
invenio_oauthclient/handlers/rest.py::ISORT PASSED
invenio_oauthclient/handlers/rest.py::black PASSED
invenio_oauthclient/handlers/token.py::PYDOCSTYLE PASSED
invenio_oauthclient/handlers/token.py::ISORT PASSED
invenio_oauthclient/handlers/token.py::black PASSED
invenio_oauthclient/handlers/ui.py::PYDOCSTYLE PASSED
invenio_oauthclient/handlers/ui.py::ISORT PASSED
invenio_oauthclient/handlers/ui.py::black PASSED
invenio_oauthclient/handlers/utils.py::PYDOCSTYLE PASSED
invenio_oauthclient/handlers/utils.py::ISORT PASSED
invenio_oauthclient/handlers/utils.py::black PASSED
invenio_oauthclient/models.py::PYDOCSTYLE PASSED
invenio_oauthclient/models.py::ISORT PASSED
invenio_oauthclient/models.py::black PASSED
invenio_oauthclient/oauth.py::PYDOCSTYLE PASSED
invenio_oauthclient/oauth.py::ISORT PASSED
invenio_oauthclient/oauth.py::black PASSED
invenio_oauthclient/proxies.py::PYDOCSTYLE PASSED
invenio_oauthclient/proxies.py::ISORT PASSED
invenio_oauthclient/proxies.py::black PASSED
invenio_oauthclient/signals.py::PYDOCSTYLE PASSED
invenio_oauthclient/signals.py::ISORT PASSED
invenio_oauthclient/signals.py::black PASSED
invenio_oauthclient/tasks.py::PYDOCSTYLE PASSED
invenio_oauthclient/tasks.py::ISORT PASSED
invenio_oauthclient/tasks.py::black PASSED
invenio_oauthclient/utils.py::PYDOCSTYLE PASSED
invenio_oauthclient/utils.py::ISORT PASSED
invenio_oauthclient/utils.py::black PASSED
invenio_oauthclient/views/__init__.py::PYDOCSTYLE PASSED
invenio_oauthclient/views/__init__.py::ISORT PASSED
invenio_oauthclient/views/__init__.py::black PASSED
invenio_oauthclient/views/client.py::PYDOCSTYLE PASSED
invenio_oauthclient/views/client.py::ISORT PASSED
invenio_oauthclient/views/client.py::black PASSED
invenio_oauthclient/views/settings.py::PYDOCSTYLE PASSED
invenio_oauthclient/views/settings.py::ISORT PASSED
invenio_oauthclient/views/settings.py::black PASSED

=============================== warnings summary ===============================
.venv/lib/python3.12/site-packages/passlib/utils/__init__.py:854
    from crypt import crypt as _crypt

.venv/lib/python3.12/site-packages/passlib/pwd.py:16
    import pkg_resources

.venv/lib/python3.12/site-packages/pkg_resources/__init__.py:3146
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    declare_namespace(pkg)

invenio_oauthclient/contrib/cern.py:161
    warn(

    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore

    _security.datetime_factory(),

    target.updated = datetime.utcnow()

    created = datetime.utcnow()

    return cls(int(id_s, 16), datetime.utcfromtimestamp(int(created_s, 16)))

    now = now or datetime.utcnow()

    user.confirmed_at = _security.datetime_factory()

tests/test_contrib_cern_openid.py::test_account_setup
tests/test_contrib_cern_openid_rest.py::test_account_setup
tests/test_contrib_cern_openid_rest.py::test_identity_changed
tests/test_contrib_cern_openid_rest.py::test_identity_changed
    updated = datetime.utcnow()

    now = datetime.utcnow()

- generated xml file: /home/runner/work/invenio-testrig/invenio-testrig/artifacts/test-report-patched.xml -
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.12-final-0 _______________

Name                                                                               Stmts   Miss  Cover   Missing
invenio_oauthclient/__init__.py                                                        5      0   100%
invenio_oauthclient/_compat.py                                                        21      2    90%   18-19
invenio_oauthclient/admin.py                                                          28      1    96%   84
invenio_oauthclient/alembic/7def990b852e_add_expires_at_and_refresh_token_to_.py      14      4    71%   25-31, 44-45
invenio_oauthclient/alembic/44ab9963e8cf_create_oauthclient_branch.py                 10      2    80%   23, 28
invenio_oauthclient/alembic/97bbc733896c_create_oauthclient_tables.py                 23     13    43%   26-56, 75-87
invenio_oauthclient/alembic/1758275763_extra_data_jsonb.py                            12      4    67%   23-24, 34-35
invenio_oauthclient/alembic/__init__.py                                                0      0   100%
invenio_oauthclient/alembic/aaa265b0afa6_move_useridentity_to_acconuts.py             14      5    64%   24-30, 35-57
invenio_oauthclient/alembic/bff1f190b9bd_add_timestamp_oauthclient.py                 27     16    41%   27-36, 42-49, 53-60
invenio_oauthclient/config.py                                                         23      0   100%
invenio_oauthclient/contrib/__init__.py                                                0      0   100%
invenio_oauthclient/contrib/cern.py                                                  182    110    40%   282-289, 294-296, 305-319, 324-328, 335-351, 356-361, 373-382, 387-394, 399-424, 437-442, 447-454, 464-478, 483-484, 489-493, 498-515, 533-549
invenio_oauthclient/contrib/cern_openid.py                                           159      6    96%   177-179, 198, 235, 329
invenio_oauthclient/contrib/eosc_aai.py                                              104     11    89%   143-150, 332-334, 375-379
invenio_oauthclient/contrib/github.py                                                 79      0   100%
invenio_oauthclient/contrib/globus.py                                                 85      3    96%   324-328
invenio_oauthclient/contrib/keycloak/__init__.py                                       3      0   100%
invenio_oauthclient/contrib/keycloak/handlers.py                                      47      4    91%   147-150
invenio_oauthclient/contrib/keycloak/helpers.py                                       44      0   100%
invenio_oauthclient/contrib/keycloak/settings.py                                      25      0   100%
invenio_oauthclient/contrib/openaire_aai.py                                           71     26    63%   147, 214, 248-253, 262-276, 284-285, 293-297, 307-322
invenio_oauthclient/contrib/orcid.py                                                  70      0   100%
invenio_oauthclient/contrib/settings.py                                               31      2    94%   98, 131
invenio_oauthclient/errors.py                                                         34      0   100%
invenio_oauthclient/ext.py                                                            95     19    80%   156, 218-220, 225-232, 241-258, 266-278
invenio_oauthclient/handlers/__init__.py                                              10      0   100%
invenio_oauthclient/handlers/authorized.py                                            96      9    91%   136, 192, 205, 210, 234, 240-241, 251, 257
invenio_oauthclient/handlers/base.py                                                  14      0   100%
invenio_oauthclient/handlers/decorators.py                                            19      0   100%
invenio_oauthclient/handlers/refresh.py                                               14      0   100%
invenio_oauthclient/handlers/rest.py                                                 104      5    95%   134, 136, 287-288, 292
invenio_oauthclient/handlers/token.py                                                 72      1    99%   134
invenio_oauthclient/handlers/ui.py                                                    99      9    91%   73, 75, 219-227, 230
invenio_oauthclient/handlers/utils.py                                                 81     10    88%   110, 124-130, 134-140, 161, 167-173
invenio_oauthclient/models.py                                                         99      2    98%   159, 210
invenio_oauthclient/oauth.py                                                          65      0   100%
invenio_oauthclient/proxies.py                                                         3      0   100%
invenio_oauthclient/signals.py                                                         8      0   100%
invenio_oauthclient/tasks.py                                                           5      0   100%
invenio_oauthclient/utils.py                                                         101      3    97%   54, 93, 211
invenio_oauthclient/views/__init__.py                                                  3      0   100%
invenio_oauthclient/views/client.py                                                  137     31    77%   57-87, 143, 179, 186-192, 201, 213-221, 302-310
invenio_oauthclient/views/settings.py                                                 27      0   100%
TOTAL                                                                               2163    298    86%
=========== 331 passed, 7 skipped, 1313 warnings in 68.38s (0:01:08) ===========
 Container docker_services_cli-rabbitmq-1  Stopping
 Container docker_services_cli-postgresql-1  Stopping
 Container docker_services_cli-postgresql-1  Stopped
 Container docker_services_cli-postgresql-1  Removing
 Container docker_services_cli-postgresql-1  Removed
 Container docker_services_cli-rabbitmq-1  Stopped
 Container docker_services_cli-rabbitmq-1  Removing
 Container docker_services_cli-rabbitmq-1  Removed
 Network docker_services_cli_default  Removing
 Network docker_services_cli_default  Removed
