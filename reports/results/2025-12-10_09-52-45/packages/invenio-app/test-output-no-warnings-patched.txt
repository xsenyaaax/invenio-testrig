============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0 -- /home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/bin/python
cachedir: .pytest_cache
rootdir: /home/runner/work/invenio-testrig/invenio-testrig/package-repo
configfile: setup.cfg
testpaths: tests, invenio_app
plugins: github-actions-annotate-failures-0.3.0, pycodestyle-2.5.0, flask-1.3.0, black-ng-0.4.1, invenio-3.4.2, isort-4.0.0, cov-7.0.0, pydocstyle-2.4.0
collecting ... collected 79 items

tests/conftest.py::PYDOCSTYLE PASSED
tests/conftest.py::ISORT PASSED
tests/conftest.py::black PASSED
tests/test_app.py::ISORT PASSED
tests/test_app.py::black PASSED
tests/test_app.py::test_rate_secure_headers PASSED

tests/test_app.py::test_headers PASSED
tests/test_app.py::test_csp_default_src_when_debug_false PASSED

tests/test_app.py::test_csp_default_src_when_debug_true PASSED

tests/test_app.py::test_empty_csp_when_set_empty PASSED

tests/test_app.py::test_default_health_blueprint PASSED

tests/test_app.py::test_ping_exempt_from_rate_limiting PASSED
tests/test_app.py::test_requestid PASSED
tests/test_app.py::test_requestid_different_header PASSED
tests/test_app.py::test_requestid_cap_200 PASSED
tests/test_app.py::test_requestid_no_extraction PASSED
tests/test_celery.py::ISORT PASSED
tests/test_celery.py::black PASSED
tests/test_celery.py::test_celery PASSED
tests/test_cli.py::ISORT PASSED
tests/test_cli.py::black PASSED
tests/test_cli.py::test_basic_cli PASSED

tests/test_factory.py::ISORT PASSED
tests/test_factory.py::black PASSED
tests/test_factory.py::test_version PASSED
tests/test_factory.py::test_config_loader PASSED

tests/test_factory.py::test_trusted_hosts PASSED

tests/test_helpers.py::ISORT PASSED
tests/test_helpers.py::black PASSED
tests/test_helpers.py::test_get_safe_redirect_target[https://example.org/search?page=1&q=&keywords=taxonomy&keywords=animali-/search?page=1&q=&keywords=taxonomy&keywords=animali] PASSED

tests/test_helpers.py::test_get_safe_redirect_target[/search?page=1&size=20-/search?page=1&size=20] PASSED

tests/test_helpers.py::test_get_safe_redirect_target[https://localhost/search?page=1-https://localhost/search?page=1] PASSED

tests/test_limiter.py::ISORT PASSED
tests/test_limiter.py::black PASSED
tests/test_limiter.py::test_limiter PASSED

tests/test_limiter.py::test_limiter_for_authenticated_user PASSED

tests/test_limiter.py::test_limiter_for_privileged_user PASSED

tests/test_templating.py::ISORT PASSED
tests/test_templating.py::black PASSED
tests/test_templating.py::test_notheme PASSED

tests/test_templating.py::test_theme PASSED

tests/test_templating.py::test_theme_with_instance_templates PASSED

tests/test_templating.py::test_list_templaes PASSED

tests/test_wsgi.py::ISORT PASSED
tests/test_wsgi.py::black PASSED
tests/test_wsgi.py::test_wsgi PASSED
invenio_app/__init__.py::PYDOCSTYLE PASSED
invenio_app/__init__.py::ISORT PASSED
invenio_app/__init__.py::black PASSED
invenio_app/celery.py::PYDOCSTYLE PASSED
invenio_app/celery.py::ISORT PASSED
invenio_app/celery.py::black PASSED
invenio_app/cli.py::PYDOCSTYLE PASSED
invenio_app/cli.py::ISORT PASSED
invenio_app/cli.py::black PASSED
invenio_app/config.py::PYDOCSTYLE PASSED
invenio_app/config.py::ISORT PASSED
invenio_app/config.py::black PASSED
invenio_app/ext.py::PYDOCSTYLE PASSED
invenio_app/ext.py::ISORT PASSED
invenio_app/ext.py::black PASSED
invenio_app/factory.py::PYDOCSTYLE PASSED
invenio_app/factory.py::ISORT PASSED
invenio_app/factory.py::black PASSED
invenio_app/helpers.py::PYDOCSTYLE PASSED
invenio_app/helpers.py::ISORT PASSED
invenio_app/helpers.py::black PASSED
invenio_app/limiter.py::PYDOCSTYLE PASSED
invenio_app/limiter.py::ISORT PASSED
invenio_app/limiter.py::black PASSED
invenio_app/wsgi.py::PYDOCSTYLE PASSED
invenio_app/wsgi.py::ISORT PASSED
invenio_app/wsgi.py::black PASSED
invenio_app/wsgi_rest.py::PYDOCSTYLE PASSED
invenio_app/wsgi_rest.py::ISORT PASSED
invenio_app/wsgi_rest.py::black PASSED
invenio_app/wsgi_ui.py::PYDOCSTYLE PASSED
invenio_app/wsgi_ui.py::ISORT PASSED
invenio_app/wsgi_ui.py::black PASSED

=============================== warnings summary ===============================
    warnings.warn(

tests/test_cli.py::test_basic_cli
tests/test_cli.py::test_basic_cli
tests/test_factory.py::test_config_loader
tests/test_factory.py::test_trusted_hosts
tests/test_templating.py::test_notheme
tests/test_templating.py::test_theme
tests/test_templating.py::test_theme_with_instance_templates
tests/test_templating.py::test_list_templaes
    warnings.warn(

tests/test_cli.py::test_basic_cli
tests/test_cli.py::test_basic_cli
tests/test_factory.py::test_config_loader
tests/test_factory.py::test_trusted_hosts
tests/test_templating.py::test_notheme
tests/test_templating.py::test_theme
tests/test_templating.py::test_theme_with_instance_templates
tests/test_templating.py::test_list_templaes
    self._set_cache(app, config)

- generated xml file: /home/runner/work/invenio-testrig/invenio-testrig/artifacts/test-report-patched.xml -
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.12-final-0 _______________

Name                       Stmts   Miss  Cover   Missing
invenio_app/__init__.py        3      0   100%
invenio_app/celery.py          5      0   100%
invenio_app/cli.py             3      0   100%
invenio_app/config.py         29      0   100%
invenio_app/ext.py            62      3    95%   97, 115-116
invenio_app/factory.py        34      2    94%   62-63
invenio_app/helpers.py        55     10    82%   30, 73, 82-87, 111, 113
invenio_app/limiter.py        14      0   100%
invenio_app/wsgi.py            3      0   100%
invenio_app/wsgi_rest.py       2      0   100%
invenio_app/wsgi_ui.py         2      0   100%
TOTAL                        212     15    93%
======================= 79 passed, 27 warnings in 7.80s ========================
