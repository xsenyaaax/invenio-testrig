 postgresql Pulling 
 opensearch Pulling 
 redis Pulling 
 rabbitmq Pulling 
 redis Pulled 
 rabbitmq Pulled 
 opensearch Pulled 
 postgresql Pulled 
 Network docker_services_cli_default  Creating
 Network docker_services_cli_default  Created
 Container docker_services_cli-redis-1  Creating
 Container docker_services_cli-opensearch-1  Creating
 Container docker_services_cli-postgresql-1  Creating
 Container docker_services_cli-rabbitmq-1  Creating
 Container docker_services_cli-postgresql-1  Created
 Container docker_services_cli-opensearch-1  Created
 Container docker_services_cli-redis-1  Created
 Container docker_services_cli-rabbitmq-1  Created
 Container docker_services_cli-rabbitmq-1  Starting
 Container docker_services_cli-postgresql-1  Starting
 Container docker_services_cli-opensearch-1  Starting
 Container docker_services_cli-redis-1  Starting
 Container docker_services_cli-redis-1  Started
 Container docker_services_cli-postgresql-1  Started
 Container docker_services_cli-rabbitmq-1  Started
 Container docker_services_cli-opensearch-1  Started
============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0 -- /home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/bin/python
cachedir: .pytest_cache
rootdir: /home/runner/work/invenio-testrig/invenio-testrig/package-repo
configfile: setup.cfg
testpaths: tests, invenio_records
plugins: github-actions-annotate-failures-0.3.0, pycodestyle-2.5.0, flask-1.3.0, black-ng-0.4.1, invenio-3.4.2, isort-4.0.0, cov-7.0.0, mock-3.15.1, pydocstyle-2.4.0
collecting ... collected 232 items

tests/conftest.py::PYDOCSTYLE PASSED
tests/conftest.py::ISORT PASSED
tests/conftest.py::black PASSED
tests/demo/__init__.py::PYDOCSTYLE PASSED
tests/demo/__init__.py::ISORT PASSED
tests/demo/__init__.py::black PASSED
tests/demo/json_resolver.py::PYDOCSTYLE PASSED
tests/demo/json_resolver.py::ISORT PASSED
tests/demo/json_resolver.py::black PASSED
tests/test_alembic.py::ISORT PASSED
tests/test_alembic.py::black PASSED
tests/test_alembic.py::test_alembic SKIPPED (Caused by mergepoint)
tests/test_api.py::ISORT PASSED
tests/test_api.py::black PASSED
tests/test_api.py::test_get_records MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api.py::test_revision_id_created_updated_properties MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api.py::test_delete PASSED

tests/test_api.py::test_revisions PASSED

tests/test_api.py::test_retrieve_proper_revision PASSED

tests/test_api.py::test_record_update_mutable PASSED

tests/test_api.py::test_missing_model MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api.py::test_record_replace_refs MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api.py::test_replace_refs_deepcopy PASSED
tests/test_api.py::test_record_dump MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api.py::test_default_format_checker PASSED
tests/test_api.py::test_validate_with_format MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api.py::test_validate_partial MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api.py::test_reversed_works_for_revisions PASSED

tests/test_api.py::test_clear_none MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api.py::test_undelete_no_get MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api.py::test_undelete_with_get MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api_dumpers.py::ISORT PASSED
tests/test_api_dumpers.py::black PASSED
tests/test_api_dumpers.py::test_esdumper_without_model MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api_dumpers.py::test_esdumper_with_model MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api_dumpers.py::test_esdumper_with_extensions MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api_dumpers.py::test_esdumper_sa_datatypes PASSED
tests/test_api_dumpers.py::test_relations_dumper MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_api_dumpers.py::test_indexedtime_dumper MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_custom_db.py::ISORT PASSED
tests/test_custom_db.py::black PASSED
tests/test_custom_db.py::test_class_model PASSED

tests/test_dictutils.py::ISORT PASSED
tests/test_dictutils.py::black PASSED
tests/test_dictutils.py::test_clear_none PASSED
tests/test_dictutils.py::test_dict_lookup PASSED
tests/test_dictutils.py::test_dict_merge PASSED
tests/test_dictutils.py::test_filter_dict_keys PASSED
tests/test_encoder.py::ISORT PASSED
tests/test_encoder.py::black PASSED
tests/test_encoder.py::test_noencoding MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_encoder.py::test_encoding MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_encoder.py::test_encoding_with_versioning PASSED

tests/test_encoder.py::test_encoding_with_schema PASSED

tests/test_encoder.py::test_encoding_with_schema_fail PASSED

tests/test_field_model.py::ISORT PASSED
tests/test_field_model.py::black PASSED
tests/test_field_model.py::test_model_field PASSED

tests/test_invenio_records.py::ISORT PASSED
tests/test_invenio_records.py::black PASSED
tests/test_invenio_records.py::test_version PASSED
tests/test_invenio_records.py::test_init PASSED
tests/test_invenio_records.py::test_db MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_relations_field.py::ISORT PASSED
tests/test_relations_field.py::black PASSED
tests/test_relations_field.py::test_multirelations_field MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_relations_modelfield.py::ISORT PASSED
tests/test_relations_modelfield.py::black PASSED
tests/test_relations_modelfield.py::test_model_relation PASSED

tests/test_relations_systemfield.py::ISORT PASSED
tests/test_relations_systemfield.py::black PASSED
tests/test_relations_systemfield.py::test_relations_field_pk_relation MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_relations_systemfield.py::test_relations_field_pk_list_relation MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_relations_systemfield.py::test_relations_field_pk_list_relation_of_objects MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_relations_systemfield.py::test_nested_relations_field MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_relations_systemfield.py::test_relations_field_pk_nested_list_of_objects_w_related_field MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_relations_systemfield.py::test_relations_field_pk_nested_list_of_objects_wo_related_field MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_relations_systemfield.py::test_relations_field_pk_relation_with_value_check MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_relations_systemfield.py::test_relations_field_pk_list_relation_with_value_check MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_relations_systemfield.py::test_relations_field_pk_nested_list_of_obj_w_related_field_w_value_check MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_relations_systemfield.py::test_nested_field_dereferencing MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_resolver.py::ISORT PASSED
tests/test_resolver.py::black PASSED
tests/test_resolver.py::test_invenio_refresolver_with_local_store MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_resolver.py::test_urljoin_with_custom_scheme[local://books.json-local://books.json#-local://books.json] PASSED
tests/test_resolver.py::test_urljoin_with_custom_scheme[local://books.json#-local://books.json-local://books.json] PASSED
tests/test_resolver.py::test_urljoin_with_custom_scheme[local://books.json#-#-local://books.json] PASSED
tests/test_resolver.py::test_urljoin_with_custom_scheme[local://books.json-local://books.json#/definitions/price-local://books.json#/definitions/price] PASSED
tests/test_resolver.py::test_urljoin_with_custom_scheme[local://books.json-#/definitions/price-local://books.json#/definitions/price] PASSED
tests/test_signals.py::ISORT PASSED
tests/test_signals.py::black PASSED
tests/test_signals.py::test_signals PASSED

tests/test_signals.py::test_signals_disabled PASSED

tests/test_systemfields.py::ISORT PASSED
tests/test_systemfields.py::black PASSED
tests/test_systemfields.py::test_constant_field MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields.py::test_constant_field_deletion MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields.py::test_field_overwriting MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields.py::test_field_inheritance MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields.py::test_field_class_access PASSED
tests/test_systemfields.py::test_attrname_injection PASSED
tests/test_systemfields.py::test_systemfields_mro PASSED
tests/test_systemfields.py::test_extension_pre_init MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields.py::test_extension_post_create MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields.py::test_extension_pre_dump MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields.py::test_extension_post_load MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields.py::test_extension_commit MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields.py::test_extension_delete MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields.py::test_extension_revert PASSED

tests/test_systemfields.py::test_base_systemfield_base PASSED
tests/test_systemfields.py::test_systemfield_initialization PASSED

tests/test_systemfields.py::test_default_key PASSED
tests/test_systemfields.py::test_dict_field_simple PASSED
tests/test_systemfields.py::test_dictfield_default_key PASSED
tests/test_systemfields.py::test_dict_field_complex_key PASSED
tests/test_systemfields.py::test_dict_field_create_if_missing PASSED
tests/test_systemfields.py::test_dict_field_clear_none PASSED
tests/test_systemfields.py::test_dict_field_deleted PASSED

tests/test_systemfields_relatedmodelfield.py::ISORT PASSED
tests/test_systemfields_relatedmodelfield.py::black PASSED
tests/test_systemfields_relatedmodelfield.py::test_field PASSED
tests/test_systemfields_relatedmodelfield.py::test_setting_related_obj MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields_relatedmodelfield.py::test_change_key MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields_relatedmodelfield.py::test_custom_dump_load MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields_relatedmodelfield.py::test_serialize_on_commit MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields_relatedmodelfield.py::test_required MS PATCH Storing database values
Storing database values
Storing database values done
MS PATCH Stored
PASSEDMS PATCH Rollback and original connection close
MS PATCH Purging database changes
Purging database values
Purging database values done
MS PATCH Purged and closed

tests/test_systemfields_relatedmodelfield.py::test_field_context PASSED
tests/test_systemfields_relatedmodelfield.py::test_ctx_session_merge PASSED
invenio_records/__init__.py::PYDOCSTYLE PASSED
invenio_records/__init__.py::ISORT PASSED
invenio_records/__init__.py::black PASSED
invenio_records/__init__.py::invenio_records PASSED

invenio_records/admin.py::PYDOCSTYLE PASSED
invenio_records/admin.py::ISORT PASSED
invenio_records/admin.py::black PASSED
invenio_records/alembic/07fb52561c5c_alter_column_from_json_to_jsonb.py::PYDOCSTYLE PASSED
invenio_records/alembic/07fb52561c5c_alter_column_from_json_to_jsonb.py::ISORT PASSED
invenio_records/alembic/07fb52561c5c_alter_column_from_json_to_jsonb.py::black PASSED
invenio_records/alembic/1095cdf9f350_create_records_branch.py::PYDOCSTYLE PASSED
invenio_records/alembic/1095cdf9f350_create_records_branch.py::ISORT PASSED
invenio_records/alembic/1095cdf9f350_create_records_branch.py::black PASSED
invenio_records/alembic/428b919be0ea_alter_column_from_json_to_jsonb_for_version.py::PYDOCSTYLE PASSED
invenio_records/alembic/428b919be0ea_alter_column_from_json_to_jsonb_for_version.py::ISORT PASSED
invenio_records/alembic/428b919be0ea_alter_column_from_json_to_jsonb_for_version.py::black PASSED
invenio_records/alembic/862037093962_create_records_tables.py::PYDOCSTYLE PASSED
invenio_records/alembic/862037093962_create_records_tables.py::ISORT PASSED
invenio_records/alembic/862037093962_create_records_tables.py::black PASSED
invenio_records/api.py::PYDOCSTYLE PASSED
invenio_records/api.py::ISORT PASSED
invenio_records/api.py::black PASSED
invenio_records/api.py::invenio_records.api.RecordBase.validate PASSED
invenio_records/config.py::PYDOCSTYLE PASSED
invenio_records/config.py::ISORT PASSED
invenio_records/config.py::black PASSED
invenio_records/dictutils.py::PYDOCSTYLE PASSED
invenio_records/dictutils.py::ISORT PASSED
invenio_records/dictutils.py::black PASSED
invenio_records/dumpers/__init__.py::PYDOCSTYLE PASSED
invenio_records/dumpers/__init__.py::ISORT PASSED
invenio_records/dumpers/__init__.py::black PASSED
invenio_records/dumpers/base.py::PYDOCSTYLE PASSED
invenio_records/dumpers/base.py::ISORT PASSED
invenio_records/dumpers/base.py::black PASSED
invenio_records/dumpers/indexedat.py::PYDOCSTYLE PASSED
invenio_records/dumpers/indexedat.py::ISORT PASSED
invenio_records/dumpers/indexedat.py::black PASSED
invenio_records/dumpers/relations.py::PYDOCSTYLE PASSED
invenio_records/dumpers/relations.py::ISORT PASSED
invenio_records/dumpers/relations.py::black PASSED
invenio_records/dumpers/search.py::PYDOCSTYLE PASSED
invenio_records/dumpers/search.py::ISORT PASSED
invenio_records/dumpers/search.py::black PASSED
invenio_records/errors.py::PYDOCSTYLE PASSED
invenio_records/errors.py::ISORT PASSED
invenio_records/errors.py::black PASSED
invenio_records/ext.py::PYDOCSTYLE PASSED
invenio_records/ext.py::ISORT PASSED
invenio_records/ext.py::black PASSED
invenio_records/extensions.py::PYDOCSTYLE PASSED
invenio_records/extensions.py::ISORT PASSED
invenio_records/extensions.py::black PASSED
invenio_records/models.py::PYDOCSTYLE PASSED
invenio_records/models.py::ISORT PASSED
invenio_records/models.py::black PASSED
invenio_records/resolver.py::PYDOCSTYLE PASSED
invenio_records/resolver.py::ISORT PASSED
invenio_records/resolver.py::black PASSED
invenio_records/signals.py::PYDOCSTYLE PASSED
invenio_records/signals.py::ISORT PASSED
invenio_records/signals.py::black PASSED
invenio_records/systemfields/__init__.py::PYDOCSTYLE PASSED
invenio_records/systemfields/__init__.py::ISORT PASSED
invenio_records/systemfields/__init__.py::black PASSED
invenio_records/systemfields/base.py::PYDOCSTYLE PASSED
invenio_records/systemfields/base.py::ISORT PASSED
invenio_records/systemfields/base.py::black PASSED
invenio_records/systemfields/constant.py::PYDOCSTYLE PASSED
invenio_records/systemfields/constant.py::ISORT PASSED
invenio_records/systemfields/constant.py::black PASSED
invenio_records/systemfields/dict.py::PYDOCSTYLE PASSED
invenio_records/systemfields/dict.py::ISORT PASSED
invenio_records/systemfields/dict.py::black PASSED
invenio_records/systemfields/model.py::PYDOCSTYLE PASSED
invenio_records/systemfields/model.py::ISORT PASSED
invenio_records/systemfields/model.py::black PASSED
invenio_records/systemfields/relatedmodelfield.py::PYDOCSTYLE PASSED
invenio_records/systemfields/relatedmodelfield.py::ISORT PASSED
invenio_records/systemfields/relatedmodelfield.py::black PASSED
invenio_records/systemfields/relations/__init__.py::PYDOCSTYLE PASSED
invenio_records/systemfields/relations/__init__.py::ISORT PASSED
invenio_records/systemfields/relations/__init__.py::black PASSED
invenio_records/systemfields/relations/errors.py::PYDOCSTYLE PASSED
invenio_records/systemfields/relations/errors.py::ISORT PASSED
invenio_records/systemfields/relations/errors.py::black PASSED
invenio_records/systemfields/relations/field.py::PYDOCSTYLE PASSED
invenio_records/systemfields/relations/field.py::ISORT PASSED
invenio_records/systemfields/relations/field.py::black PASSED
invenio_records/systemfields/relations/mapping.py::PYDOCSTYLE PASSED
invenio_records/systemfields/relations/mapping.py::ISORT PASSED
invenio_records/systemfields/relations/mapping.py::black PASSED
invenio_records/systemfields/relations/modelrelations.py::PYDOCSTYLE PASSED
invenio_records/systemfields/relations/modelrelations.py::ISORT PASSED
invenio_records/systemfields/relations/modelrelations.py::black PASSED
invenio_records/systemfields/relations/relations.py::PYDOCSTYLE PASSED
invenio_records/systemfields/relations/relations.py::ISORT PASSED
invenio_records/systemfields/relations/relations.py::black PASSED
invenio_records/systemfields/relations/results.py::PYDOCSTYLE PASSED
invenio_records/systemfields/relations/results.py::ISORT PASSED
invenio_records/systemfields/relations/results.py::black PASSED
invenio_records/validators.py::PYDOCSTYLE PASSED
invenio_records/validators.py::ISORT PASSED
invenio_records/validators.py::black PASSED

=============================== warnings summary ===============================
.venv/lib/python3.12/site-packages/passlib/utils/__init__.py:854
    from crypt import crypt as _crypt

.venv/lib/python3.12/site-packages/jsonresolver/contrib/jsonschema.py:31
.venv/lib/python3.12/site-packages/jsonresolver/contrib/jsonschema.py:31
    from jsonschema import RefResolver as _RefResolver

invenio_records/resolver.py:15
invenio_records/resolver.py:15
    from jsonschema import RefResolutionError, RefResolver

invenio_records/resolver.py:15
invenio_records/resolver.py:15
    from jsonschema import RefResolutionError, RefResolver

.venv/lib/python3.12/site-packages/flask_admin/contrib/__init__.py:2
    __import__('pkg_resources').declare_namespace(__name__)

.venv/lib/python3.12/site-packages/pkg_resources/__init__.py:3146
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    declare_namespace(pkg)

.venv/lib/python3.12/site-packages/flask_admin/contrib/__init__.py:2
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    __import__('pkg_resources').declare_namespace(__name__)

.venv/lib/python3.12/site-packages/pkg_resources/__init__.py:2558
  Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages
    declare_namespace(parent)

    return util.wrap_callable(lambda ctx: fn(), fn)  # type: ignore

  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_records/api.py:335: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

    target.updated = datetime.utcnow()

  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_records/api.py:496: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

tests/test_api.py::test_get_records
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_api.py:51: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_api.py::test_revision_id_created_updated_properties
    utcnow = datetime.utcnow()

  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_records/api.py:443: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

tests/test_api.py::test_delete
tests/test_api.py::test_revisions
tests/test_encoder.py::test_encoding_with_versioning
tests/test_signals.py::test_signals
tests/test_signals.py::test_signals_disabled
tests/test_systemfields.py::test_extension_revert
invenio_records/__init__.py::invenio_records
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_records/api.py:549: SAWarning: nested transaction already deassociated from connection
    with db.session.begin_nested():

tests/test_api.py::test_undelete_no_get
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_api.py:500: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_api.py::test_undelete_no_get
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_api.py:503: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_api.py::test_undelete_with_get
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_api.py:512: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_api.py::test_undelete_with_get
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_api.py:516: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_api_dumpers.py::test_relations_dumper
tests/test_custom_db.py::test_class_model
tests/test_field_model.py::test_model_field
tests/test_relations_modelfield.py::test_model_relation
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/flask_sqlalchemy/model.py:144: SAWarning: This declarative base already contains a class with the same class name and module name as sqlalchemy_continuum.model_builder.RecordMetadataVersion, and will be replaced in the string-lookup table. (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
    super().__init__(name, bases, d, **kwargs)

tests/test_api_dumpers.py::test_relations_dumper
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy_continuum/utils.py:198: SAWarning: On mapper Mapper[RecordMetadataVersion(records_metadata_version)], primary key column 'records_metadata_version.transaction_id' is being combined with distinct primary key column 'records_metadata_version.transaction_id' in attribute 'transaction_id'. Use explicit properties to give each column its own mapped attribute name. (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
    yield getattr(mapper.attrs, key)

tests/test_api_dumpers.py::test_relations_dumper
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/sqlalchemy_continuum/utils.py:198: SAWarning: relationship 'RecordMetadataVersion.transaction' will copy column transaction.id to column records_metadata_version.transaction_id, which conflicts with relationship(s): 'RecordMetadataVersion.transaction' (copies transaction.id to records_metadata_version.transaction_id). If this is not the intention, consider if these relationships should be linked with back_populates, or if viewonly=True should be applied to one or more if they are read-only. For the less common case that foreign key constraints are partially overlapping, the orm.foreign() annotation can be used to isolate the columns that should be written towards.   To silence this warning, add the parameter 'overlaps="transaction"' to the 'RecordMetadataVersion.transaction' relationship. (Background on this warning at: https://sqlalche.me/e/20/qzyx) (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
    yield getattr(mapper.attrs, key)

tests/test_api_dumpers.py::test_relations_dumper
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_api_dumpers.py:198: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_custom_db.py::test_class_model
tests/test_field_model.py::test_model_field
tests/test_relations_modelfield.py::test_model_relation
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_records/api.py:335: SAWarning: On mapper Mapper[RecordMetadataVersion(records_metadata_version)], primary key column 'records_metadata_version.transaction_id' is being combined with distinct primary key column 'records_metadata_version.transaction_id' in attribute 'transaction_id'. Use explicit properties to give each column its own mapped attribute name. (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
    with db.session.begin_nested():

tests/test_custom_db.py::test_class_model
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_records/api.py:335: SAWarning: relationship 'RecordMetadataVersion.transaction' will copy column transaction.id to column records_metadata_version.transaction_id, which conflicts with relationship(s): 'RecordMetadataVersion.transaction' (copies transaction.id to records_metadata_version.transaction_id), 'RecordMetadataVersion.transaction' (copies transaction.id to records_metadata_version.transaction_id). If this is not the intention, consider if these relationships should be linked with back_populates, or if viewonly=True should be applied to one or more if they are read-only. For the less common case that foreign key constraints are partially overlapping, the orm.foreign() annotation can be used to isolate the columns that should be written towards.   To silence this warning, add the parameter 'overlaps="transaction,transaction"' to the 'RecordMetadataVersion.transaction' relationship. (Background on this warning at: https://sqlalche.me/e/20/qzyx) (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
    with db.session.begin_nested():

tests/test_field_model.py::test_model_field
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_records/api.py:335: SAWarning: relationship 'RecordMetadataVersion.transaction' will copy column transaction.id to column records_metadata_version.transaction_id, which conflicts with relationship(s): 'RecordMetadataVersion.transaction' (copies transaction.id to records_metadata_version.transaction_id), 'RecordMetadataVersion.transaction' (copies transaction.id to records_metadata_version.transaction_id), 'RecordMetadataVersion.transaction' (copies transaction.id to records_metadata_version.transaction_id). If this is not the intention, consider if these relationships should be linked with back_populates, or if viewonly=True should be applied to one or more if they are read-only. For the less common case that foreign key constraints are partially overlapping, the orm.foreign() annotation can be used to isolate the columns that should be written towards.   To silence this warning, add the parameter 'overlaps="transaction,transaction,transaction"' to the 'RecordMetadataVersion.transaction' relationship. (Background on this warning at: https://sqlalche.me/e/20/qzyx) (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
    with db.session.begin_nested():

tests/test_invenio_records.py::test_db
invenio_records/__init__.py::invenio_records
    warnings.warn(

tests/test_invenio_records.py::test_db
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_invenio_records.py:84: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_invenio_records.py::test_db
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_invenio_records.py:120: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_invenio_records.py::test_db
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_invenio_records.py:135: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_relations_field.py::test_multirelations_field
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_relations_field.py:198: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/.venv/lib/python3.12/site-packages/pytest_invenio/fixtures.py:569: SAWarning: nested transaction already deassociated from connection
    self._transaction.rollback(_to_root=False)

tests/test_relations_modelfield.py::test_model_relation
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/invenio_records/api.py:335: SAWarning: relationship 'RecordMetadataVersion.transaction' will copy column transaction.id to column records_metadata_version.transaction_id, which conflicts with relationship(s): 'RecordMetadataVersion.transaction' (copies transaction.id to records_metadata_version.transaction_id), 'RecordMetadataVersion.transaction' (copies transaction.id to records_metadata_version.transaction_id), 'RecordMetadataVersion.transaction' (copies transaction.id to records_metadata_version.transaction_id), 'RecordMetadataVersion.transaction' (copies transaction.id to records_metadata_version.transaction_id). If this is not the intention, consider if these relationships should be linked with back_populates, or if viewonly=True should be applied to one or more if they are read-only. For the less common case that foreign key constraints are partially overlapping, the orm.foreign() annotation can be used to isolate the columns that should be written towards.   To silence this warning, add the parameter 'overlaps="transaction,transaction,transaction,transaction"' to the 'RecordMetadataVersion.transaction' relationship. (Background on this warning at: https://sqlalche.me/e/20/qzyx) (This warning originated from the `configure_mappers()` process, which was invoked automatically in response to a user-initiated operation.)
    with db.session.begin_nested():

tests/test_relations_systemfield.py::test_relations_field_pk_relation
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_relations_systemfield.py:114: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_relations_systemfield.py::test_relations_field_pk_list_relation
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_relations_systemfield.py:231: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_relations_systemfield.py::test_relations_field_pk_list_relation_of_objects
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_relations_systemfield.py:463: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_relations_systemfield.py::test_relations_field_pk_nested_list_of_objects_w_related_field
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_relations_systemfield.py:783: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_relations_systemfield.py::test_relations_field_pk_nested_list_of_objects_wo_related_field
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_relations_systemfield.py:991: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_systemfields.py::test_constant_field_deletion
  /home/runner/work/invenio-testrig/invenio-testrig/package-repo/tests/test_systemfields.py:156: SAWarning: nested transaction already deassociated from connection
    db.session.commit()

tests/test_systemfields.py::test_extension_pre_dump
tests/test_systemfields.py::test_extension_post_load
    warnings.warn(

tests/test_systemfields.py::test_extension_post_load
    warnings.warn(

- generated xml file: /home/runner/work/invenio-testrig/invenio-testrig/artifacts/test-report-patched.xml -
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.12-final-0 _______________

Name                                                                                  Stmts   Miss  Cover   Missing
invenio_records/__init__.py                                                               4      0   100%
invenio_records/admin.py                                                                 37     12    68%   61-75
invenio_records/alembic/07fb52561c5c_alter_column_from_json_to_jsonb.py                  12      4    67%   23-24, 34-35
invenio_records/alembic/428b919be0ea_alter_column_from_json_to_jsonb_for_version.py      12      4    67%   23-24, 34-35
invenio_records/alembic/1095cdf9f350_create_records_branch.py                             8      0   100%
invenio_records/alembic/862037093962_create_records_tables.py                            19     10    47%   24-79, 89-102
invenio_records/api.py                                                                  229      8    97%   108, 240-244, 253-257, 290-294, 524
invenio_records/config.py                                                                 6      0   100%
invenio_records/dictutils.py                                                             87      7    92%   55, 63, 131, 167, 170-172
invenio_records/dumpers/__init__.py                                                       3      0   100%
invenio_records/dumpers/base.py                                                           7      1    86%   49
invenio_records/dumpers/indexedat.py                                                      9      0   100%
invenio_records/dumpers/relations.py                                                     18      3    83%   35-36, 41
invenio_records/dumpers/search.py                                                       111      6    95%   69-70, 84, 104, 115, 122
invenio_records/errors.py                                                                 3      0   100%
invenio_records/ext.py                                                                   49      1    98%   107
invenio_records/extensions.py                                                            21      0   100%
invenio_records/models.py                                                                55      3    95%   101-103
invenio_records/resolver.py                                                              15      1    93%   23
invenio_records/signals.py                                                               18      0   100%
invenio_records/systemfields/__init__.py                                                  7      0   100%
invenio_records/systemfields/base.py                                                    139      5    96%   77, 287-291, 301-305
invenio_records/systemfields/constant.py                                                 20      0   100%
invenio_records/systemfields/dict.py                                                     15      0   100%
invenio_records/systemfields/model.py                                                    32      0   100%
invenio_records/systemfields/relatedmodelfield.py                                        42      0   100%
invenio_records/systemfields/relations/__init__.py                                        7      0   100%
invenio_records/systemfields/relations/errors.py                                          4      0   100%
invenio_records/systemfields/relations/field.py                                          64      3    95%   34, 38, 42
invenio_records/systemfields/relations/mapping.py                                        34      3    91%   30, 41, 49
invenio_records/systemfields/relations/modelrelations.py                                 39      0   100%
invenio_records/systemfields/relations/relations.py                                     175     22    87%   63, 84, 101, 108, 122-127, 174-175, 209-214, 217-218, 253, 323
invenio_records/systemfields/relations/results.py                                       181     13    93%   59, 88-89, 103, 112, 126, 164, 166, 229, 233, 249-250, 261
invenio_records/validators.py                                                            15      0   100%
TOTAL                                                                                  1497    106    93%
================ 231 passed, 1 skipped, 511 warnings in 29.75s =================
 Container docker_services_cli-redis-1  Stopping
 Container docker_services_cli-rabbitmq-1  Stopping
 Container docker_services_cli-opensearch-1  Stopping
 Container docker_services_cli-postgresql-1  Stopping
 Container docker_services_cli-postgresql-1  Stopped
 Container docker_services_cli-postgresql-1  Removing
 Container docker_services_cli-postgresql-1  Removed
 Container docker_services_cli-redis-1  Stopped
 Container docker_services_cli-redis-1  Removing
 Container docker_services_cli-redis-1  Removed
 Container docker_services_cli-opensearch-1  Stopped
 Container docker_services_cli-opensearch-1  Removing
 Container docker_services_cli-opensearch-1  Removed
 Container docker_services_cli-rabbitmq-1  Stopped
 Container docker_services_cli-rabbitmq-1  Removing
 Container docker_services_cli-rabbitmq-1  Removed
 Network docker_services_cli_default  Removing
 Network docker_services_cli_default  Removed
