============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0
rootdir: /home/runner/work/invenio-testrig/invenio-testrig/package-repo
configfile: setup.cfg
testpaths: tests, invenio_rest
plugins: github-actions-annotate-failures-0.3.0, pycodestyle-2.5.0, flask-1.3.0, black-ng-0.4.1, invenio-3.4.2, isort-4.0.0, cov-7.0.0, pydocstyle-2.4.0
collected 73 items

tests/conftest.py ...                                                    [  4%]
tests/test_csrf.py ....
.
.
.
.
.
.
.
.
.
.
.
.
                                      [ 26%]
tests/test_decorators.py ...
                                             [ 30%]
tests/test_errors.py ...
                                                 [ 34%]
tests/test_invenio_rest.py ....
.
.
.
.
.
.
.
.
.
.
.....
                           [ 60%]
tests/test_serializer.py ...
.
                                            [ 65%]
invenio_rest/__init__.py ....
                                            [ 71%]
invenio_rest/config.py ...                                               [ 75%]
invenio_rest/csrf.py ...                                                 [ 79%]
invenio_rest/decorators.py ...                                           [ 83%]
invenio_rest/errors.py ...                                               [ 87%]
invenio_rest/ext.py ...                                                  [ 91%]
invenio_rest/serializer.py ...                                           [ 95%]
invenio_rest/views.py ...                                                [100%]

=============================== warnings summary ===============================
    self.init_app(app)

tests/test_invenio_rest.py::test_init
    ext.init_app(app)

    self.modified = datetime.utcnow()

tests/test_serializer.py::test_serialize_pretty
    assert (TestSchema().dump(data)).data == {"title": "test"}

tests/test_serializer.py::test_marshmallow_compatibility
    assert wrapped.data == dict_result

tests/test_serializer.py::test_marshmallow_compatibility
    assert wrapped.data == list_result

- generated xml file: /home/runner/work/invenio-testrig/invenio-testrig/artifacts/test-report-patched.xml -
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.12-final-0 _______________

Name                         Stmts   Miss  Cover   Missing
invenio_rest/__init__.py         6      0   100%
invenio_rest/config.py          13      0   100%
invenio_rest/csrf.py           146      7    95%   74-75, 149, 180, 196-197, 270
invenio_rest/decorators.py      13      0   100%
invenio_rest/errors.py          66      1    98%   81
invenio_rest/ext.py             40      2    95%   49-51
invenio_rest/serializer.py      37      7    81%   64, 77-78, 82-83, 87-88
invenio_rest/views.py          110      6    95%   44, 48-50, 170-171
TOTAL                          431     23    95%
======================= 73 passed, 627 warnings in 5.26s =======================
