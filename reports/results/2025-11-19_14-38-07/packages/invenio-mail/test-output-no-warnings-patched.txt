============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0
rootdir: /home/runner/work/invenio-testrig/invenio-testrig/package-repo
configfile: setup.cfg
testpaths: tests, invenio_mail
plugins: github-actions-annotate-failures-0.3.0, pycodestyle-2.5.0, flask-1.3.0, black-ng-0.4.1, invenio-3.4.2, isort-4.0.0, cov-7.0.0, pydocstyle-2.4.0
collected 43 items

tests/conftest.py ...                                                    [  6%]
tests/test_invenio_mail.py .....                                         [ 18%]
tests/test_invenio_mail_api.py ....                                      [ 27%]
tests/test_invenio_mail_failure.py ....                                  [ 37%]
tests/test_invenio_mail_tasks.py ........                                [ 55%]
invenio_mail/__init__.py ....                                            [ 65%]
invenio_mail/api.py ...                                                  [ 72%]
invenio_mail/config.py ...                                               [ 79%]
invenio_mail/errors.py ...                                               [ 86%]
invenio_mail/ext.py ...                                                  [ 93%]
invenio_mail/tasks.py ...                                                [100%]

- generated xml file: /home/runner/work/invenio-testrig/invenio-testrig/artifacts/test-report-patched.xml -
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.12-final-0 _______________

Name                       Stmts   Miss  Cover   Missing
invenio_mail/__init__.py       3      0   100%
invenio_mail/api.py           10      0   100%
invenio_mail/config.py         9      0   100%
invenio_mail/errors.py         1      0   100%
invenio_mail/ext.py           38      0   100%
invenio_mail/tasks.py         48      4    92%   41, 84, 118-121
TOTAL                        109      4    96%
============================== 43 passed in 2.97s ==============================
